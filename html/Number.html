<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Number</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--no-import-sorts</a> <a id="41" class="Pragma">--allow-unsolved-metas</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">module</a> <a id="76" href="Number.html" class="Module">Number</a> <a id="83" class="Keyword">where</a>

<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="117" class="Keyword">renaming</a> <a id="126" class="Symbol">(</a><a id="127" href="Agda.Primitive.html#736" class="Primitive Operator">_⊔_</a> <a id="131" class="Symbol">to</a> <a id="Primitive._⊔_"></a><a id="134" href="Number.html#134" class="Primitive Operator">ℓ-max</a><a id="139" class="Symbol">;</a> <a id="141" href="Agda.Primitive.html#706" class="Primitive">lsuc</a> <a id="146" class="Symbol">to</a> <a id="Primitive.lsuc"></a><a id="149" href="Number.html#149" class="Primitive">ℓ-suc</a><a id="154" class="Symbol">;</a> <a id="156" href="Agda.Primitive.html#690" class="Primitive">lzero</a> <a id="162" class="Symbol">to</a> <a id="Primitive.lzero"></a><a id="165" href="Number.html#165" class="Primitive">ℓ-zero</a><a id="171" class="Symbol">)</a>

<a id="174" class="Keyword">private</a>
  <a id="184" class="Keyword">variable</a>
    <a id="197" href="Number.html#197" class="Generalizable">ℓ</a> <a id="199" href="Number.html#199" class="Generalizable">ℓ&#39;</a> <a id="202" href="Number.html#202" class="Generalizable">ℓ&#39;&#39;</a> <a id="206" class="Symbol">:</a> <a id="208" href="Agda.Primitive.html#523" class="Postulate">Level</a>

<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Cubical.Foundations.Everything.html" class="Module">Cubical.Foundations.Everything</a> <a id="258" class="Keyword">renaming</a> <a id="267" class="Symbol">(</a><a id="268" href="Cubical.Foundations.GroupoidLaws.html#311" class="Function Operator">_⁻¹</a> <a id="272" class="Symbol">to</a> <a id="Foundations.GroupoidLaws._⁻¹"></a><a id="275" href="Number.html#275" class="Function Operator">_⁻¹ᵖ</a><a id="279" class="Symbol">;</a> <a id="281" href="Cubical.Foundations.GroupoidLaws.html#2243" class="Function">assoc</a> <a id="287" class="Symbol">to</a> <a id="Foundations.GroupoidLaws.assoc"></a><a id="290" href="Number.html#290" class="Function">∙-assoc</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Cubical.Relation.Nullary.Base.html" class="Module">Cubical.Relation.Nullary.Base</a> <a id="341" class="Comment">-- ¬_</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Cubical.Relation.Binary.Base.html" class="Module">Cubical.Relation.Binary.Base</a> <a id="388" class="Comment">-- Rel</a>

<a id="396" class="Comment">-- open import Data.Nat.Base using (ℕ) renaming (_≤_ to _≤ₙ_)</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="487" class="Keyword">using</a> <a id="493" class="Symbol">(</a><a id="494" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="495" class="Symbol">;</a> <a id="497" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="501" class="Symbol">;</a> <a id="503" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="506" class="Symbol">)</a> <a id="508" class="Keyword">renaming</a> <a id="517" class="Symbol">(</a><a id="518" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="522" class="Symbol">to</a> <a id="Builtin.Nat._+_"></a><a id="525" href="Number.html#525" class="Primitive Operator">_+ₙ_</a><a id="529" class="Symbol">)</a>
<a id="531" class="Keyword">open</a> <a id="536" class="Keyword">import</a> <a id="543" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="566" class="Keyword">renaming</a> <a id="575" class="Symbol">(</a><a id="576" href="Cubical.Data.Nat.Order.html#1004" class="Function">zero-≤</a> <a id="583" class="Symbol">to</a> <a id="Data.Nat.Order.zero-≤"></a><a id="586" href="Number.html#586" class="Function">z≤n</a><a id="589" class="Symbol">;</a> <a id="591" href="Cubical.Data.Nat.Order.html#1046" class="Function">suc-≤-suc</a> <a id="601" class="Symbol">to</a> <a id="Data.Nat.Order.suc-≤-suc"></a><a id="604" href="Number.html#604" class="Function">s≤s</a><a id="607" class="Symbol">;</a> <a id="609" href="Cubical.Data.Nat.Order.html#504" class="Function Operator">_≤_</a> <a id="613" class="Symbol">to</a> <a id="Data.Nat.Order._≤_"></a><a id="616" href="Number.html#616" class="Function Operator">_≤ₙ_</a><a id="620" class="Symbol">;</a> <a id="622" href="Cubical.Data.Nat.Order.html#554" class="Function Operator">_&lt;_</a> <a id="626" class="Symbol">to</a> <a id="Data.Nat.Order._&lt;_"></a><a id="629" href="Number.html#629" class="Function Operator">_&lt;ₙ_</a><a id="633" class="Symbol">)</a>

<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Cubical.Data.Unit.Base.html" class="Module">Cubical.Data.Unit.Base</a> <a id="671" class="Comment">-- Unit</a>
<a id="679" class="Keyword">open</a> <a id="684" class="Keyword">import</a> <a id="691" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="710" class="Comment">-- ⊥</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Cubical.Data.Sum.Base.html" class="Module">Cubical.Data.Sum.Base</a> <a id="749" class="Keyword">renaming</a> <a id="758" class="Symbol">(</a><a id="759" href="Cubical.Data.Sum.Base.html#188" class="Datatype Operator">_⊎_</a> <a id="763" class="Symbol">to</a> <a id="766" class="Keyword">infixr</a> <a id="773" class="Number">4</a> <a id="Data.Sum.Base._⊎_"></a><a id="775" href="Number.html#775" class="Datatype Operator">_⊎_</a><a id="778" class="Symbol">)</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="Cubical.Data.Sigma.Base.html" class="Module">Cubical.Data.Sigma.Base</a> <a id="816" class="Keyword">renaming</a> <a id="825" class="Symbol">(</a><a id="826" href="Cubical.Data.Sigma.Base.html#489" class="Function Operator">_×_</a> <a id="830" class="Symbol">to</a> <a id="833" class="Keyword">infixr</a> <a id="840" class="Number">4</a> <a id="Data.Sigma.Base._×_"></a><a id="842" href="Number.html#842" class="Function Operator">_×_</a><a id="845" class="Symbol">)</a>
<a id="847" class="Keyword">open</a> <a id="852" class="Keyword">import</a> <a id="859" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="878" class="Keyword">renaming</a> <a id="887" class="Symbol">(</a><a id="888" href="Cubical.Data.Empty.Base.html#190" class="Function">elim</a> <a id="893" class="Symbol">to</a> <a id="Data.Empty.Base.elim"></a><a id="896" href="Number.html#896" class="Function">⊥-elim</a><a id="902" class="Symbol">)</a> <a id="904" class="Comment">-- `⊥` and `elim`</a>
<a id="922" class="Keyword">open</a> <a id="927" class="Keyword">import</a> <a id="934" href="Cubical.Data.Maybe.Base.html" class="Module">Cubical.Data.Maybe.Base</a>
<a id="958" class="Keyword">open</a> <a id="963" class="Keyword">import</a> <a id="970" href="Function.Base.html" class="Module">Function.Base</a> <a id="984" class="Keyword">using</a> <a id="990" class="Symbol">(</a><a id="991" href="Function.Base.html#4458" class="Function Operator">_∋_</a><a id="994" class="Symbol">)</a>

<a id="997" class="Comment">-- open import Bundles</a>

<a id="1021" class="Keyword">open</a> <a id="1026" class="Keyword">import</a> <a id="1033" href="Number.Postulates.html" class="Module">Number.Postulates</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="Number.Structures.html" class="Module">Number.Structures</a>
<a id="1081" class="Keyword">open</a> <a id="1086" class="Keyword">import</a> <a id="1093" href="Number.Bundles.html" class="Module">Number.Bundles</a>
<a id="1108" class="Keyword">open</a> <a id="1113" class="Keyword">import</a> <a id="1120" href="Number.Inclusions.html" class="Module">Number.Inclusions</a>
<a id="1138" class="Keyword">open</a> <a id="1143" class="Keyword">import</a> <a id="1150" href="Number.Blueprint.html" class="Module">Number.Blueprint</a>
<a id="1167" class="Keyword">open</a> <a id="1172" class="Keyword">import</a> <a id="1179" href="Number.Coercions.html" class="Module">Number.Coercions</a>
<a id="1196" class="Keyword">open</a> <a id="1201" class="Keyword">import</a> <a id="1208" href="Number.GenericOperations.html" class="Module">Number.GenericOperations</a>

<a id="1234" class="Keyword">open</a> <a id="1239" href="Number.Postulates.html#8340" class="Module">ℕⁿ</a>
<a id="1242" class="Keyword">open</a> <a id="1247" href="Number.Postulates.html#12701" class="Module">ℤᶻ</a> <a id="1250" href="Number.Postulates.html#12606" class="Postulate">ℤ.bundle</a>
<a id="1259" class="Keyword">open</a> <a id="1264" href="Number.Postulates.html#14481" class="Module">ℚᶠ</a> <a id="1267" href="Number.Postulates.html#13076" class="Postulate">ℚ.bundle</a>
<a id="1276" class="Keyword">open</a> <a id="1281" href="Number.Postulates.html#14882" class="Module">ℝʳ</a> <a id="1284" href="Number.Postulates.html#14797" class="Postulate">ℝ.bundle</a>
<a id="1293" class="Keyword">open</a> <a id="1298" href="Number.Postulates.html#15347" class="Module">ℂᶜ</a> <a id="1301" href="Number.Postulates.html#15252" class="Postulate">ℂ.bundle</a>


<a id="1312" class="Keyword">open</a> <a id="1317" class="Keyword">import</a> <a id="1324" href="Cubical.Data.Fin.Base.html" class="Module">Cubical.Data.Fin.Base</a>
<a id="1346" class="Comment">-- import Cubical.Data.Fin.Properties</a>
<a id="1384" class="Keyword">open</a> <a id="1389" class="Keyword">import</a> <a id="1396" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="1413" class="Keyword">using</a> <a id="1419" class="Symbol">(</a><a id="1420" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1421" class="Symbol">;</a> <a id="1423" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1427" class="Symbol">;</a> <a id="1429" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="1432" class="Symbol">)</a> <a id="1434" class="Keyword">renaming</a> <a id="1443" class="Symbol">(</a><a id="1444" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="1448" class="Symbol">to</a> <a id="Builtin.Nat._+_"></a><a id="1451" href="Number.html#1451" class="Primitive Operator">_+ₙ_</a><a id="1455" class="Symbol">)</a>
<a id="1457" class="Keyword">open</a> <a id="1462" class="Keyword">import</a> <a id="1469" href="Cubical.Data.Nat.Properties.html" class="Module">Cubical.Data.Nat.Properties</a> <a id="1497" class="Keyword">using</a> <a id="1503" class="Symbol">(</a><a id="1504" href="Cubical.Data.Nat.Properties.html#1126" class="Function">+-suc</a><a id="1509" class="Symbol">;</a> <a id="1511" href="Cubical.Data.Nat.Properties.html#530" class="Function">injSuc</a><a id="1517" class="Symbol">;</a> <a id="1519" href="Cubical.Data.Nat.Properties.html#471" class="Function">snotz</a><a id="1524" class="Symbol">;</a> <a id="1526" href="Cubical.Data.Nat.Properties.html#1229" class="Function">+-comm</a><a id="1532" class="Symbol">;</a> <a id="1534" href="Cubical.Data.Nat.Properties.html#1370" class="Function">+-assoc</a><a id="1541" class="Symbol">;</a> <a id="1543" href="Cubical.Data.Nat.Properties.html#1044" class="Function">+-zero</a><a id="1549" class="Symbol">;</a> <a id="1551" href="Cubical.Data.Nat.Properties.html#1491" class="Function">inj-m+</a><a id="1557" class="Symbol">)</a>
<a id="1559" class="Keyword">open</a> <a id="1564" class="Keyword">import</a> <a id="1571" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="1594" class="Keyword">renaming</a> <a id="1603" class="Symbol">(</a><a id="1604" href="Cubical.Data.Nat.Order.html#1004" class="Function">zero-≤</a> <a id="1611" class="Symbol">to</a> <a id="Data.Nat.Order.zero-≤"></a><a id="1614" href="Number.html#1614" class="Function">z≤n</a><a id="1617" class="Symbol">;</a> <a id="1619" href="Cubical.Data.Nat.Order.html#1046" class="Function">suc-≤-suc</a> <a id="1629" class="Symbol">to</a> <a id="Data.Nat.Order.suc-≤-suc"></a><a id="1632" href="Number.html#1632" class="Function">s≤s</a><a id="1635" class="Symbol">;</a> <a id="1637" href="Cubical.Data.Nat.Order.html#504" class="Function Operator">_≤_</a> <a id="1641" class="Symbol">to</a> <a id="Data.Nat.Order._≤_"></a><a id="1644" href="Number.html#1644" class="Function Operator">_≤ₙ_</a><a id="1648" class="Symbol">;</a> <a id="1650" href="Cubical.Data.Nat.Order.html#554" class="Function Operator">_&lt;_</a> <a id="1654" class="Symbol">to</a> <a id="Data.Nat.Order._&lt;_"></a><a id="1657" href="Number.html#1657" class="Function Operator">_&lt;ₙ_</a><a id="1661" class="Symbol">;</a> <a id="1663" href="Cubical.Data.Nat.Order.html#4156" class="Function Operator">_≟_</a> <a id="1667" class="Symbol">to</a> <a id="Data.Nat.Order._≟_"></a><a id="1670" href="Number.html#1670" class="Function Operator">_≟ₙ_</a><a id="1674" class="Symbol">)</a>
<a id="1676" class="Comment">-- open import Data.Nat.Base using (ℕ; z≤n; s≤s; zero; suc) renaming (_≤_ to _≤ₙ_; _&lt;_ to _&lt;ₙ_; _+_ to _+ₙ_)</a>
<a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="Agda.Builtin.Bool.html" class="Module">Agda.Builtin.Bool</a> <a id="1815" class="Keyword">renaming</a> <a id="1824" class="Symbol">(</a><a id="1825" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1830" class="Symbol">to</a> <a id="Builtin.Bool.Bool.true"></a><a id="1833" href="Number.html#1833" class="InductiveConstructor">TT</a><a id="1835" class="Symbol">;</a> <a id="1837" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1843" class="Symbol">to</a> <a id="Builtin.Bool.Bool.false"></a><a id="1846" href="Number.html#1846" class="InductiveConstructor">FF</a><a id="1848" class="Symbol">)</a>
<a id="1850" class="Keyword">open</a> <a id="1855" class="Keyword">import</a> <a id="1862" href="Function.Base.html" class="Module">Function.Base</a> <a id="1876" class="Keyword">using</a> <a id="1882" class="Symbol">(</a><a id="1883" href="Function.Base.html#4708" class="Function">it</a><a id="1885" class="Symbol">;</a> <a id="1887" href="Function.Base.html#1577" class="Function Operator">_$_</a><a id="1890" class="Symbol">)</a> <a id="1892" class="Comment">-- instance search</a>
<a id="1911" class="Keyword">import</a> <a id="1918" href="Cubical.Data.Fin.Properties.html" class="Module">Cubical.Data.Fin.Properties</a>
<a id="1946" class="Keyword">open</a> <a id="1951" class="Keyword">import</a> <a id="1958" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1978" class="Keyword">using</a> <a id="1984" class="Symbol">(</a><a id="1985" href="Data.Nat.Properties.html#17258" class="Function">+-mono-&lt;</a><a id="1993" class="Symbol">)</a>

<a id="1996" class="Comment">-- NOTE: well, for 15 allowed coercions, we might just enumerate them</a>
<a id="2066" class="Comment">--   unfortunately with overlapping patterns a style as in `Cl` is not possible</a>
<a id="2146" class="Comment">--   we need to explicitly write out all the 5×5 combinations</a>
<a id="2208" class="Comment">--   or, we implement a min operator which might work even with overlapping patterns</a>

<a id="2294" class="Comment">-- num {isNat     ,, p} (x ,, q) = x</a>
<a id="2331" class="Comment">-- num {isInt     ,, p} (x ,, q) = x</a>
<a id="2368" class="Comment">-- num {isRat     ,, p} (x ,, q) = x</a>
<a id="2405" class="Comment">-- num {isReal    ,, p} (x ,, q) = x</a>
<a id="2442" class="Comment">-- num {isComplex ,, p} (x ,, q) = x</a>


<a id="2481" class="Comment">-- TODO: name this &quot;inject&quot; instead of &quot;coerce&quot;</a>
<a id="2529" class="Comment">-- TODO: make the module ℤ and the Carrier ℤ.ℤ</a>
<a id="2576" class="Comment">-- TODO: for a binary relation `a # b` it would be nice to have a way to compose ≡-pathes to the left and the right</a>
<a id="2692" class="Comment">--       similar to how ∙ can be used for pathes</a>
<a id="2741" class="Comment">--       this reasoning might extend to transitive relations</a>
<a id="2802" class="Comment">--       `cong₂ _#_ refl x` and `cong₂ _#_ x refl` to this (together with `transport`)</a>
<a id="2889" class="Comment">-- NOTE: maybe ℕ↪ℤ should be a postfix operation</a>

<a id="2939" class="Comment">-- module _ where</a>
<a id="2957" class="Comment">-- module ℕ&#39; = ROrderedCommSemiring ℕ.Bundle</a>
<a id="3002" class="Comment">-- module ℤ&#39; = ROrderedCommRing     ℤ.Bundle</a>
<a id="3047" class="Comment">-- module ℚ&#39; = ROrderedField        ℚ.Bundle</a>
<a id="3092" class="Comment">-- module ℝ&#39; = ROrderedField        ℝ.Bundle</a>
<a id="3137" class="Comment">-- module ℂ&#39; = RField               ℂ.Bundle-- </a>

  

<a id="3190" class="Comment">-- coerce-OCSR : ∀{l p} {ll : NumberKind} {𝕏OCSR 𝕐OCSR : ROrderedCommSemiring {ℝℓ} {ℝℓ&#39;}}</a>
<a id="3280" class="Comment">--             → (x : Number (l ,, p))</a>
<a id="3319" class="Comment">--             → {f : Il l → Il ll}</a>
<a id="3355" class="Comment">--             → IsROrderedCommSemiringInclusion 𝕏OCSR 𝕐OCSR f</a>
<a id="3418" class="Comment">--             → Ip ll p (f (num x))</a>
<a id="3455" class="Comment">-- coerce-OCSR {l} {ll} {p} {𝕏OCSR} {𝕐OCSR} {f} (x ,, q) = ?</a>


<a id="3518" class="Keyword">private</a>
  <a id="3528" class="Keyword">instance</a>
    <a id="z≤n&#39;"></a><a id="3541" href="Number.html#3541" class="Function">z≤n&#39;</a> <a id="3546" class="Symbol">:</a> <a id="3548" class="Symbol">∀</a> <a id="3550" class="Symbol">{</a><a id="3551" href="Number.html#3551" class="Bound">n</a><a id="3552" class="Symbol">}</a>                 <a id="3570" class="Symbol">→</a> <a id="3572" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>  <a id="3578" href="Number.html#616" class="Function Operator">≤ₙ</a> <a id="3581" href="Number.html#3551" class="Bound">n</a>
    <a id="3587" href="Number.html#3541" class="Function">z≤n&#39;</a> <a id="3592" class="Symbol">{</a><a id="3593" href="Number.html#3593" class="Bound">n</a><a id="3594" class="Symbol">}</a> <a id="3596" class="Symbol">=</a> <a id="3598" href="Number.html#586" class="Function">z≤n</a>
    <a id="s≤s&#39;"></a><a id="3606" href="Number.html#3606" class="Function">s≤s&#39;</a> <a id="3611" class="Symbol">:</a> <a id="3613" class="Symbol">∀</a> <a id="3615" class="Symbol">{</a><a id="3616" href="Number.html#3616" class="Bound">m</a> <a id="3618" href="Number.html#3618" class="Bound">n</a><a id="3619" class="Symbol">}</a> <a id="3621" class="Symbol">{{</a><a id="3623" href="Number.html#3623" class="Bound">m≤n</a> <a id="3627" class="Symbol">:</a> <a id="3629" href="Number.html#3616" class="Bound">m</a> <a id="3631" href="Number.html#616" class="Function Operator">≤ₙ</a> <a id="3634" href="Number.html#3618" class="Bound">n</a><a id="3635" class="Symbol">}}</a> <a id="3638" class="Symbol">→</a> <a id="3640" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3644" href="Number.html#3616" class="Bound">m</a> <a id="3646" href="Number.html#616" class="Function Operator">≤ₙ</a> <a id="3649" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3653" href="Number.html#3618" class="Bound">n</a>
    <a id="3659" href="Number.html#3606" class="Function">s≤s&#39;</a> <a id="3664" class="Symbol">{</a><a id="3665" href="Number.html#3665" class="Bound">m</a><a id="3666" class="Symbol">}</a> <a id="3668" class="Symbol">{</a><a id="3669" href="Number.html#3669" class="Bound">n</a><a id="3670" class="Symbol">}</a> <a id="3672" class="Symbol">{{</a><a id="3674" href="Number.html#3674" class="Bound">m≤n</a><a id="3677" class="Symbol">}}</a> <a id="3680" class="Symbol">=</a> <a id="3682" href="Number.html#604" class="Function">s≤s</a> <a id="3686" href="Number.html#3674" class="Bound">m≤n</a>

<a id="3691" class="Comment">{-
-- TODO: why does `it` not work here?
⁻¹-Levels : (a : NumberKind) → Σ[ b ∈ NumberKind ] a ≤ₙₗ b
⁻¹-Levels isNat     = isRat     , z≤n -- it
⁻¹-Levels isInt     = isRat     , s≤s z≤n -- s≤s&#39; {{z≤n&#39;}}
⁻¹-Levels isRat     = isRat     , s≤s (s≤s z≤n) 
⁻¹-Levels isReal    = isReal    , s≤s (s≤s (s≤s z≤n)) -- it 
⁻¹-Levels isComplex = isComplex , s≤s (s≤s (s≤s (s≤s z≤n))) 

⁻¹-Levels&#39; : (a : NumberKind) → NumberKind
⁻¹-Levels&#39; x = maxₙₗ x isRat
-}</a>

<a id="4142" class="Keyword">open</a> <a id="4147" href="Number.Blueprint.html#8782" class="Module">PatternsType</a>

<a id="4161" class="Comment">{-
private
  pattern X   = anyPositivity
  pattern X⁺⁻ = isNonzero
  pattern X₀⁺ = isNonnegative
  pattern X⁺  = isPositive
  pattern X⁻  = isNegative
  pattern X₀⁻ = isNonpositive
-}</a>

<a id="4346" class="Comment">{-
⁻¹-Types : NumberProp → Maybe NumberProp
⁻¹-Types (level ,, X  ) = nothing
⁻¹-Types (level ,, X₀⁺) = nothing
⁻¹-Types (level ,, X₀⁻) = nothing
⁻¹-Types (level ,, p  ) = just (fst (⁻¹-Levels level) ,, p)
-}</a>

<a id="4556" class="Comment">-- ∀{{ q : Unit }} → Number (level ,, X⁺⁻)</a>
<a id="4599" class="Comment">-- ∀{{ q : Unit }} → Number (level ,, X⁺ )</a>
<a id="4642" class="Comment">-- ∀{{ q : Unit }} → Number (level ,, X⁻ )</a>

<a id="4686" class="Comment">-- pattern [ℝ₀⁺] = (isReal , X₀⁺)</a>
<a id="4720" class="Comment">-- [ℝ₀⁺] = Number (isReal , isNonnegativeᵒʳ)</a>
<a id="4765" class="Comment">-- [ℝ⁺]  = Number (isReal , isPositiveᵒʳ)</a>
<a id="4807" class="Comment">-- [ℕ⁺]  = Number (isNat  , isPositiveᵒʳ)</a>
<a id="4849" class="Comment">-- [ℝ]   = Number (isReal , anyPositivityᵒʳ)</a>

<a id="4895" class="Keyword">open</a> <a id="4900" class="Keyword">import</a> <a id="4907" href="Number.Prettyprint.html" class="Module">Number.Prettyprint</a>

<a id="4927" class="Comment">-- {-# DISPLAY maxₙₗ&#39; isReal isReal = isReal #-}</a>
<a id="4976" class="Comment">-- {-# DISPLAY Number (isReal , isNonnegative) = [ℝ₀⁺] #-}</a>
<a id="5035" class="Comment">-- {-# DISPLAY Number (isReal , isPositive)    = [ℝ⁺]  #-}</a>


<a id="[1ʳ]"></a><a id="5096" href="Number.html#5096" class="Function">[1ʳ]</a> <a id="5101" class="Symbol">:</a> <a id="5103" href="Number.Prettyprint.html#1075" class="Function">[ℝ⁺]</a>
<a id="5108" href="Number.html#5096" class="Function">[1ʳ]</a> <a id="5113" class="Symbol">=</a> <a id="5115" href="Number.Postulates.html#15047" class="Function">1ʳ</a> <a id="5118" href="Number.Blueprint.html#21725" class="InductiveConstructor Operator">,,</a> <a id="5121" href="Number.Structures.html#1818" class="Function">ℝ.0&lt;1</a>



<a id="5130" class="Comment">-- test101 : Number (isNat , isPositiveᵒʳ) → Number (isReal ,  isNonnegativeᵒʳ) → {!!}</a>


<a id="test201"></a><a id="5219" href="Number.html#5219" class="Function">test201</a> <a id="5227" class="Symbol">:</a> <a id="5229" href="Number.Prettyprint.html#310" class="Function">[ℕ⁺]</a> <a id="5234" class="Symbol">→</a> <a id="5236" href="Number.Prettyprint.html#1030" class="Function">[ℝ₀⁺]</a> <a id="5242" class="Symbol">→</a> <a id="5244" href="Number.Prettyprint.html#940" class="Function">[ℝ]</a>
<a id="5248" class="Comment">-- As-patterns (or @-patterns) go well with resolving things in our approach</a>
<a id="5325" href="Number.html#5219" class="Function">test201</a> <a id="5333" href="Number.html#5333" class="Bound">n</a><a id="5334" class="Symbol">@(</a><a id="5336" href="Number.html#5336" class="Bound">nn</a> <a id="5339" href="Number.Blueprint.html#21725" class="InductiveConstructor Operator">,,</a> <a id="5342" href="Number.html#5342" class="Bound">np</a><a id="5344" class="Symbol">)</a> <a id="5346" href="Number.html#5346" class="Bound">r</a><a id="5347" class="Symbol">@(</a><a id="5349" href="Number.html#5349" class="Bound">rn</a> <a id="5352" href="Number.Blueprint.html#21725" class="InductiveConstructor Operator">,,</a> <a id="5355" href="Number.html#5355" class="Bound">rp</a><a id="5357" class="Symbol">)</a> <a id="5359" class="Symbol">=</a> <a id="5361" class="Keyword">let</a>
<a id="5365" class="Comment">-- generic operations are provided</a>
<a id="5400" class="Comment">-- q : [ℕ⁺]</a>
<a id="5412" class="Comment">-- z : [ℝ₀⁺]</a>
   <a id="5428" href="Number.html#5428" class="Bound">q</a> <a id="5430" class="Symbol">=</a> <a id="5432" href="Number.html#5333" class="Bound">n</a> <a id="5434" href="Number.GenericOperations.html#15555" class="Function Operator">+</a> <a id="5436" href="Number.html#5333" class="Bound">n</a>
   <a id="5441" href="Number.html#5441" class="Bound">z</a> <a id="5443" class="Symbol">=</a> <a id="5445" href="Number.html#5346" class="Bound">r</a> <a id="5447" href="Number.GenericOperations.html#15555" class="Function Operator">+</a> <a id="5449" href="Number.html#5346" class="Bound">r</a>

<a id="5452" class="Comment">-- we can project-out the underlying number of a `Number` with `num`</a>
<a id="5521" class="Comment">-- zʳ : ℝ</a>
   <a id="5534" href="Number.html#5534" class="Bound">zʳ</a> <a id="5537" class="Symbol">=</a> <a id="5539" href="Number.Blueprint.html#21835" class="Function">num</a> <a id="5543" href="Number.html#5441" class="Bound">z</a>

<a id="5546" class="Comment">-- and we can project-out the property of a `Number` with `prp`</a>
<a id="5610" class="Comment">-- zp : 0ʳ ≤ʳ (rn +ʳ rn)</a>
   <a id="5638" href="Number.html#5638" class="Bound">zp</a> <a id="5641" class="Symbol">=</a> <a id="5643" href="Number.Blueprint.html#21929" class="Function">prp</a> <a id="5647" href="Number.html#5441" class="Bound">z</a>

<a id="5650" class="Comment">-- since the generic `_+_` makes use of `_+ʳ_` on ℝ, we get definitional equality</a>
   <a id="5735" href="Number.html#5735" class="Bound">_</a> <a id="5737" class="Symbol">:</a> <a id="5739" href="Number.html#5534" class="Bound">zʳ</a> <a id="5742" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="5744" href="Number.html#5349" class="Bound">rn</a> <a id="5747" href="Number.Postulates.html#15063" class="Function Operator">+ʳ</a> <a id="5750" href="Number.html#5349" class="Bound">rn</a>
   <a id="5756" class="Symbol">_</a> <a id="5758" class="Symbol">=</a> <a id="5760" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>

<a id="5766" class="Comment">-- r is nonnegative from [ℝ₀⁺], [1ʳ] is positive from [ℝ⁺]</a>
<a id="5825" class="Comment">-- and _+_ makes use of the fact that &quot;positive + nonnegative = positive&quot;</a>
<a id="5899" class="Comment">-- y : [ℝ⁺]</a>
<a id="5911" class="Comment">-- y = (rn +ʳ 1ʳ) ,, +-≤-&lt;-implies-&lt;ʳ rn 1ʳ rp 0&lt;1</a>
   <a id="5965" href="Number.html#5965" class="Bound">y</a> <a id="5967" class="Symbol">=</a>  <a id="5970" href="Number.html#5346" class="Bound">r</a> <a id="5972" href="Number.GenericOperations.html#15555" class="Function Operator">+</a> <a id="5974" href="Number.html#5096" class="Function">[1ʳ]</a>

<a id="5980" class="Comment">-- _+_ automatically coerces n from ℕ⁺ to ℝ⁺ and uses the fact that &quot;positive + nonnegative = positive&quot;</a>
<a id="6084" class="Comment">-- n+r : [ℝ⁺]</a>
<a id="6098" class="Comment">-- n+r = (ℕ↪ℝ nn +ʳ rn) ,, +-&lt;-≤-implies-&lt;ʳ (ℕ↪ℝ nn) rn (coerce-ℕ↪ℝ (nn ,, np)) rp</a>
   <a id="6184" href="Number.html#6184" class="Bound">n+r</a> <a id="6188" class="Symbol">=</a> <a id="6190" href="Number.html#5333" class="Bound">n</a> <a id="6192" href="Number.GenericOperations.html#15555" class="Function Operator">+</a> <a id="6194" href="Number.html#5346" class="Bound">r</a>

<a id="6197" class="Comment">-- generic relations like _&lt;_ also make use of their underlying relations</a>
<a id="6271" class="Comment">-- and therefore we also get definitional equality, no matter how the relation is stated</a>
   <a id="6363" href="Number.html#6363" class="Bound">pp</a>   <a id="6368" class="Symbol">:</a> <a id="6370" href="Number.html#5096" class="Function">[1ʳ]</a> <a id="6375" href="Number.GenericOperations.html#16321" class="Function Operator">&lt;</a>      <a id="6382" class="Symbol">(</a><a id="6383" href="Number.html#5346" class="Bound">r</a>  <a id="6386" href="Number.GenericOperations.html#15555" class="Function Operator">+</a> <a id="6388" href="Number.html#5096" class="Function">[1ʳ]</a><a id="6392" class="Symbol">)</a>
   <a id="6397" href="Number.html#6363" class="Bound">pp</a>   <a id="6402" class="Symbol">=</a> <a id="6404" class="Symbol">{!!}</a>
   <a id="6412" href="Number.html#6412" class="Bound">pp&#39;</a>  <a id="6417" class="Symbol">:</a>  <a id="6420" href="Number.Postulates.html#15047" class="Function">1ʳ</a>  <a id="6424" href="Number.Postulates.html#14941" class="Function Operator">&lt;ʳ</a> <a id="6427" href="Number.Blueprint.html#21835" class="Function">num</a> <a id="6431" class="Symbol">(</a><a id="6432" href="Number.html#5346" class="Bound">r</a>  <a id="6435" href="Number.GenericOperations.html#15555" class="Function Operator">+</a> <a id="6437" href="Number.html#5096" class="Function">[1ʳ]</a><a id="6441" class="Symbol">)</a>
   <a id="6446" href="Number.html#6412" class="Bound">pp&#39;</a>  <a id="6451" class="Symbol">=</a> <a id="6453" class="Symbol">{!!}</a>
   <a id="6461" href="Number.html#6461" class="Bound">pp&#39;&#39;</a> <a id="6466" class="Symbol">:</a>  <a id="6469" href="Number.Postulates.html#15047" class="Function">1ʳ</a>  <a id="6473" href="Number.Postulates.html#14941" class="Function Operator">&lt;ʳ</a>     <a id="6480" class="Symbol">(</a><a id="6481" href="Number.html#5349" class="Bound">rn</a> <a id="6484" href="Number.Postulates.html#15063" class="Function Operator">+ʳ</a> <a id="6487" href="Number.Postulates.html#15047" class="Function">1ʳ</a> <a id="6490" class="Symbol">)</a>
   <a id="6495" href="Number.html#6461" class="Bound">pp&#39;&#39;</a> <a id="6500" class="Symbol">=</a> <a id="6502" class="Symbol">{!!}</a>
   <a id="6510" href="Number.html#6510" class="Bound">_</a> <a id="6512" class="Symbol">:</a> <a id="6514" class="Symbol">(</a><a id="6515" href="Number.html#6363" class="Bound">pp</a> <a id="6518" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="6520" href="Number.html#6412" class="Bound">pp&#39;</a><a id="6523" class="Symbol">)</a> <a id="6525" href="Number.html#842" class="Function Operator">×</a> <a id="6527" class="Symbol">(</a><a id="6528" href="Number.html#6363" class="Bound">pp</a> <a id="6531" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="6533" href="Number.html#6461" class="Bound">pp&#39;&#39;</a><a id="6537" class="Symbol">)</a>
   <a id="6542" class="Symbol">_</a> <a id="6544" class="Symbol">=</a> <a id="6546" href="Cubical.Foundations.Id.html#588" class="Function">refl</a> <a id="6551" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6553" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>
   <a id="6561" class="Keyword">in</a> <a id="6564" class="Symbol">{!    !}</a>




</pre></body></html>