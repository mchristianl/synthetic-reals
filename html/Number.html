<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Number</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--no-import-sorts</a> <a id="41" class="Pragma">--allow-unsolved-metas</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">module</a> <a id="76" href="Number.html" class="Module">Number</a> <a id="83" class="Keyword">where</a>

<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="117" class="Keyword">renaming</a> <a id="126" class="Symbol">(</a><a id="127" href="Agda.Primitive.html#736" class="Primitive Operator">_‚äî_</a> <a id="131" class="Symbol">to</a> <a id="Primitive._‚äî_"></a><a id="134" href="Number.html#134" class="Primitive Operator">‚Ñì-max</a><a id="139" class="Symbol">;</a> <a id="141" href="Agda.Primitive.html#706" class="Primitive">lsuc</a> <a id="146" class="Symbol">to</a> <a id="Primitive.lsuc"></a><a id="149" href="Number.html#149" class="Primitive">‚Ñì-suc</a><a id="154" class="Symbol">;</a> <a id="156" href="Agda.Primitive.html#690" class="Primitive">lzero</a> <a id="162" class="Symbol">to</a> <a id="Primitive.lzero"></a><a id="165" href="Number.html#165" class="Primitive">‚Ñì-zero</a><a id="171" class="Symbol">)</a>

<a id="174" class="Keyword">private</a>
  <a id="184" class="Keyword">variable</a>
    <a id="197" href="Number.html#197" class="Generalizable">‚Ñì</a> <a id="199" href="Number.html#199" class="Generalizable">‚Ñì&#39;</a> <a id="202" href="Number.html#202" class="Generalizable">‚Ñì&#39;&#39;</a> <a id="206" class="Symbol">:</a> <a id="208" href="Agda.Primitive.html#523" class="Postulate">Level</a>

<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Cubical.Foundations.Everything.html" class="Module">Cubical.Foundations.Everything</a> <a id="258" class="Keyword">renaming</a> <a id="267" class="Symbol">(</a><a id="268" href="Cubical.Foundations.GroupoidLaws.html#311" class="Function Operator">_‚Åª¬π</a> <a id="272" class="Symbol">to</a> <a id="Foundations.GroupoidLaws._‚Åª¬π"></a><a id="275" href="Number.html#275" class="Function Operator">_‚Åª¬π·µñ</a><a id="279" class="Symbol">;</a> <a id="281" href="Cubical.Foundations.GroupoidLaws.html#2243" class="Function">assoc</a> <a id="287" class="Symbol">to</a> <a id="Foundations.GroupoidLaws.assoc"></a><a id="290" href="Number.html#290" class="Function">‚àô-assoc</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Cubical.Relation.Nullary.Base.html" class="Module">Cubical.Relation.Nullary.Base</a> <a id="341" class="Comment">-- ¬¨_</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Cubical.Relation.Binary.Base.html" class="Module">Cubical.Relation.Binary.Base</a> <a id="388" class="Comment">-- Rel</a>

<a id="396" class="Comment">-- open import Data.Nat.Base using (‚Ñï) renaming (_‚â§_ to _‚â§‚Çô_)</a>
<a id="458" class="Keyword">open</a> <a id="463" class="Keyword">import</a> <a id="470" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="487" class="Keyword">using</a> <a id="493" class="Symbol">(</a><a id="494" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a><a id="495" class="Symbol">;</a> <a id="497" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="501" class="Symbol">;</a> <a id="503" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="506" class="Symbol">)</a> <a id="508" class="Keyword">renaming</a> <a id="517" class="Symbol">(</a><a id="518" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="522" class="Symbol">to</a> <a id="Builtin.Nat._+_"></a><a id="525" href="Number.html#525" class="Primitive Operator">_+‚Çô_</a><a id="529" class="Symbol">)</a>
<a id="531" class="Keyword">open</a> <a id="536" class="Keyword">import</a> <a id="543" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="566" class="Keyword">renaming</a> <a id="575" class="Symbol">(</a><a id="576" href="Cubical.Data.Nat.Order.html#1004" class="Function">zero-‚â§</a> <a id="583" class="Symbol">to</a> <a id="Data.Nat.Order.zero-‚â§"></a><a id="586" href="Number.html#586" class="Function">z‚â§n</a><a id="589" class="Symbol">;</a> <a id="591" href="Cubical.Data.Nat.Order.html#1046" class="Function">suc-‚â§-suc</a> <a id="601" class="Symbol">to</a> <a id="Data.Nat.Order.suc-‚â§-suc"></a><a id="604" href="Number.html#604" class="Function">s‚â§s</a><a id="607" class="Symbol">;</a> <a id="609" href="Cubical.Data.Nat.Order.html#504" class="Function Operator">_‚â§_</a> <a id="613" class="Symbol">to</a> <a id="Data.Nat.Order._‚â§_"></a><a id="616" href="Number.html#616" class="Function Operator">_‚â§‚Çô_</a><a id="620" class="Symbol">;</a> <a id="622" href="Cubical.Data.Nat.Order.html#554" class="Function Operator">_&lt;_</a> <a id="626" class="Symbol">to</a> <a id="Data.Nat.Order._&lt;_"></a><a id="629" href="Number.html#629" class="Function Operator">_&lt;‚Çô_</a><a id="633" class="Symbol">)</a>

<a id="636" class="Keyword">open</a> <a id="641" class="Keyword">import</a> <a id="648" href="Cubical.Data.Unit.Base.html" class="Module">Cubical.Data.Unit.Base</a> <a id="671" class="Comment">-- Unit</a>
<a id="679" class="Keyword">open</a> <a id="684" class="Keyword">import</a> <a id="691" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="710" class="Comment">-- ‚ä•</a>
<a id="715" class="Keyword">open</a> <a id="720" class="Keyword">import</a> <a id="727" href="Cubical.Data.Sum.Base.html" class="Module">Cubical.Data.Sum.Base</a> <a id="749" class="Keyword">renaming</a> <a id="758" class="Symbol">(</a><a id="759" href="Cubical.Data.Sum.Base.html#188" class="Datatype Operator">_‚äé_</a> <a id="763" class="Symbol">to</a> <a id="766" class="Keyword">infixr</a> <a id="773" class="Number">4</a> <a id="Data.Sum.Base._‚äé_"></a><a id="775" href="Number.html#775" class="Datatype Operator">_‚äé_</a><a id="778" class="Symbol">)</a>
<a id="780" class="Keyword">open</a> <a id="785" class="Keyword">import</a> <a id="792" href="Cubical.Data.Sigma.Base.html" class="Module">Cubical.Data.Sigma.Base</a> <a id="816" class="Keyword">renaming</a> <a id="825" class="Symbol">(</a><a id="826" href="Cubical.Data.Sigma.Base.html#489" class="Function Operator">_√ó_</a> <a id="830" class="Symbol">to</a> <a id="833" class="Keyword">infixr</a> <a id="840" class="Number">4</a> <a id="Data.Sigma.Base._√ó_"></a><a id="842" href="Number.html#842" class="Function Operator">_√ó_</a><a id="845" class="Symbol">)</a>
<a id="847" class="Keyword">open</a> <a id="852" class="Keyword">import</a> <a id="859" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="878" class="Keyword">renaming</a> <a id="887" class="Symbol">(</a><a id="888" href="Cubical.Data.Empty.Base.html#190" class="Function">elim</a> <a id="893" class="Symbol">to</a> <a id="Data.Empty.Base.elim"></a><a id="896" href="Number.html#896" class="Function">‚ä•-elim</a><a id="902" class="Symbol">)</a> <a id="904" class="Comment">-- `‚ä•` and `elim`</a>
<a id="922" class="Keyword">open</a> <a id="927" class="Keyword">import</a> <a id="934" href="Cubical.Data.Maybe.Base.html" class="Module">Cubical.Data.Maybe.Base</a>
<a id="958" class="Keyword">open</a> <a id="963" class="Keyword">import</a> <a id="970" href="Function.Base.html" class="Module">Function.Base</a> <a id="984" class="Keyword">using</a> <a id="990" class="Symbol">(</a><a id="991" href="Function.Base.html#4458" class="Function Operator">_‚àã_</a><a id="994" class="Symbol">)</a>

<a id="997" class="Comment">-- open import Bundles</a>

<a id="1021" class="Keyword">open</a> <a id="1026" class="Keyword">import</a> <a id="1033" href="Number.Postulates.html" class="Module">Number.Postulates</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="Number.Structures.html" class="Module">Number.Structures</a>
<a id="1081" class="Keyword">open</a> <a id="1086" class="Keyword">import</a> <a id="1093" href="Number.Bundles.html" class="Module">Number.Bundles</a>
<a id="1108" class="Keyword">open</a> <a id="1113" class="Keyword">import</a> <a id="1120" href="Number.Inclusions.html" class="Module">Number.Inclusions</a>
<a id="1138" class="Keyword">open</a> <a id="1143" class="Keyword">import</a> <a id="1150" href="Number.Blueprint.html" class="Module">Number.Blueprint</a>
<a id="1167" class="Keyword">open</a> <a id="1172" class="Keyword">import</a> <a id="1179" href="Number.Coercions.html" class="Module">Number.Coercions</a>
<a id="1196" class="Keyword">open</a> <a id="1201" class="Keyword">import</a> <a id="1208" href="Number.GenericOperations.html" class="Module">Number.GenericOperations</a>

<a id="1234" class="Keyword">open</a> <a id="1239" href="Number.Postulates.html#2730" class="Module">‚Ñï‚Åø</a>
<a id="1242" class="Keyword">open</a> <a id="1247" href="Number.Postulates.html#3192" class="Module">‚Ñ§·∂ª</a>
<a id="1250" class="Keyword">open</a> <a id="1255" href="Number.Postulates.html#3655" class="Module">‚Ñö·∂†</a>
<a id="1258" class="Keyword">open</a> <a id="1263" href="Number.Postulates.html#4101" class="Module">‚Ñù ≥</a>
<a id="1266" class="Keyword">open</a> <a id="1271" href="Number.Postulates.html#4563" class="Module">‚ÑÇ·∂ú</a>


<a id="1276" class="Keyword">open</a> <a id="1281" class="Keyword">import</a> <a id="1288" href="Cubical.Data.Fin.Base.html" class="Module">Cubical.Data.Fin.Base</a>
<a id="1310" class="Comment">-- import Cubical.Data.Fin.Properties</a>
<a id="1348" class="Keyword">open</a> <a id="1353" class="Keyword">import</a> <a id="1360" href="Cubical.Data.Nat.html" class="Module">Cubical.Data.Nat</a> <a id="1377" class="Keyword">using</a> <a id="1383" class="Symbol">(</a><a id="1384" href="Agda.Builtin.Nat.html#192" class="Datatype">‚Ñï</a><a id="1385" class="Symbol">;</a> <a id="1387" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1391" class="Symbol">;</a> <a id="1393" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="1396" class="Symbol">)</a> <a id="1398" class="Keyword">renaming</a> <a id="1407" class="Symbol">(</a><a id="1408" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="1412" class="Symbol">to</a> <a id="Builtin.Nat._+_"></a><a id="1415" href="Number.html#1415" class="Primitive Operator">_+‚Çô_</a><a id="1419" class="Symbol">)</a>
<a id="1421" class="Keyword">open</a> <a id="1426" class="Keyword">import</a> <a id="1433" href="Cubical.Data.Nat.Properties.html" class="Module">Cubical.Data.Nat.Properties</a> <a id="1461" class="Keyword">using</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Cubical.Data.Nat.Properties.html#1126" class="Function">+-suc</a><a id="1473" class="Symbol">;</a> <a id="1475" href="Cubical.Data.Nat.Properties.html#530" class="Function">injSuc</a><a id="1481" class="Symbol">;</a> <a id="1483" href="Cubical.Data.Nat.Properties.html#471" class="Function">snotz</a><a id="1488" class="Symbol">;</a> <a id="1490" href="Cubical.Data.Nat.Properties.html#1229" class="Function">+-comm</a><a id="1496" class="Symbol">;</a> <a id="1498" href="Cubical.Data.Nat.Properties.html#1370" class="Function">+-assoc</a><a id="1505" class="Symbol">;</a> <a id="1507" href="Cubical.Data.Nat.Properties.html#1044" class="Function">+-zero</a><a id="1513" class="Symbol">;</a> <a id="1515" href="Cubical.Data.Nat.Properties.html#1491" class="Function">inj-m+</a><a id="1521" class="Symbol">)</a>
<a id="1523" class="Keyword">open</a> <a id="1528" class="Keyword">import</a> <a id="1535" href="Cubical.Data.Nat.Order.html" class="Module">Cubical.Data.Nat.Order</a> <a id="1558" class="Keyword">renaming</a> <a id="1567" class="Symbol">(</a><a id="1568" href="Cubical.Data.Nat.Order.html#1004" class="Function">zero-‚â§</a> <a id="1575" class="Symbol">to</a> <a id="Data.Nat.Order.zero-‚â§"></a><a id="1578" href="Number.html#1578" class="Function">z‚â§n</a><a id="1581" class="Symbol">;</a> <a id="1583" href="Cubical.Data.Nat.Order.html#1046" class="Function">suc-‚â§-suc</a> <a id="1593" class="Symbol">to</a> <a id="Data.Nat.Order.suc-‚â§-suc"></a><a id="1596" href="Number.html#1596" class="Function">s‚â§s</a><a id="1599" class="Symbol">;</a> <a id="1601" href="Cubical.Data.Nat.Order.html#504" class="Function Operator">_‚â§_</a> <a id="1605" class="Symbol">to</a> <a id="Data.Nat.Order._‚â§_"></a><a id="1608" href="Number.html#1608" class="Function Operator">_‚â§‚Çô_</a><a id="1612" class="Symbol">;</a> <a id="1614" href="Cubical.Data.Nat.Order.html#554" class="Function Operator">_&lt;_</a> <a id="1618" class="Symbol">to</a> <a id="Data.Nat.Order._&lt;_"></a><a id="1621" href="Number.html#1621" class="Function Operator">_&lt;‚Çô_</a><a id="1625" class="Symbol">;</a> <a id="1627" href="Cubical.Data.Nat.Order.html#4156" class="Function Operator">_‚âü_</a> <a id="1631" class="Symbol">to</a> <a id="Data.Nat.Order._‚âü_"></a><a id="1634" href="Number.html#1634" class="Function Operator">_‚âü‚Çô_</a><a id="1638" class="Symbol">)</a>
<a id="1640" class="Comment">-- open import Data.Nat.Base using (‚Ñï; z‚â§n; s‚â§s; zero; suc) renaming (_‚â§_ to _‚â§‚Çô_; _&lt;_ to _&lt;‚Çô_; _+_ to _+‚Çô_)</a>
<a id="1749" class="Keyword">open</a> <a id="1754" class="Keyword">import</a> <a id="1761" href="Agda.Builtin.Bool.html" class="Module">Agda.Builtin.Bool</a> <a id="1779" class="Keyword">renaming</a> <a id="1788" class="Symbol">(</a><a id="1789" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1794" class="Symbol">to</a> <a id="Builtin.Bool.Bool.true"></a><a id="1797" href="Number.html#1797" class="InductiveConstructor">TT</a><a id="1799" class="Symbol">;</a> <a id="1801" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="1807" class="Symbol">to</a> <a id="Builtin.Bool.Bool.false"></a><a id="1810" href="Number.html#1810" class="InductiveConstructor">FF</a><a id="1812" class="Symbol">)</a>
<a id="1814" class="Keyword">open</a> <a id="1819" class="Keyword">import</a> <a id="1826" href="Function.Base.html" class="Module">Function.Base</a> <a id="1840" class="Keyword">using</a> <a id="1846" class="Symbol">(</a><a id="1847" href="Function.Base.html#4708" class="Function">it</a><a id="1849" class="Symbol">;</a> <a id="1851" href="Function.Base.html#1577" class="Function Operator">_$_</a><a id="1854" class="Symbol">)</a> <a id="1856" class="Comment">-- instance search</a>
<a id="1875" class="Keyword">import</a> <a id="1882" href="Cubical.Data.Fin.Properties.html" class="Module">Cubical.Data.Fin.Properties</a>
<a id="1910" class="Keyword">open</a> <a id="1915" class="Keyword">import</a> <a id="1922" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="1942" class="Keyword">using</a> <a id="1948" class="Symbol">(</a><a id="1949" href="Data.Nat.Properties.html#17258" class="Function">+-mono-&lt;</a><a id="1957" class="Symbol">)</a>

<a id="1960" class="Comment">-- NOTE: well, for 15 allowed coercions, we might just enumerate them</a>
<a id="2030" class="Comment">--   unfortunately with overlapping patterns a style as in `Cl` is not possible</a>
<a id="2110" class="Comment">--   we need to explicitly write out all the 5√ó5 combinations</a>
<a id="2172" class="Comment">--   or, we implement a min operator which might work even with overlapping patterns</a>

<a id="2258" class="Comment">-- num {isNat     ,, p} (x ,, q) = x</a>
<a id="2295" class="Comment">-- num {isInt     ,, p} (x ,, q) = x</a>
<a id="2332" class="Comment">-- num {isRat     ,, p} (x ,, q) = x</a>
<a id="2369" class="Comment">-- num {isReal    ,, p} (x ,, q) = x</a>
<a id="2406" class="Comment">-- num {isComplex ,, p} (x ,, q) = x</a>


<a id="2445" class="Comment">-- TODO: name this &quot;inject&quot; instead of &quot;coerce&quot;</a>
<a id="2493" class="Comment">-- TODO: make the module ‚Ñ§ and the Carrier ‚Ñ§.‚Ñ§</a>
<a id="2540" class="Comment">-- TODO: for a binary relation `a # b` it would be nice to have a way to compose ‚â°-pathes to the left and the right</a>
<a id="2656" class="Comment">--       similar to how ‚àô can be used for pathes</a>
<a id="2705" class="Comment">--       this reasoning might extend to transitive relations</a>
<a id="2766" class="Comment">--       `cong‚ÇÇ _#_ refl x` and `cong‚ÇÇ _#_ x refl` to this (together with `transport`)</a>
<a id="2853" class="Comment">-- NOTE: maybe ‚Ñï‚Ü™‚Ñ§ should be a postfix operation</a>

<a id="2903" class="Comment">-- module _ where</a>
<a id="2921" class="Comment">-- module ‚Ñï&#39; = ROrderedCommSemiring ‚Ñï.Bundle</a>
<a id="2966" class="Comment">-- module ‚Ñ§&#39; = ROrderedCommRing     ‚Ñ§.Bundle</a>
<a id="3011" class="Comment">-- module ‚Ñö&#39; = ROrderedField        ‚Ñö.Bundle</a>
<a id="3056" class="Comment">-- module ‚Ñù&#39; = ROrderedField        ‚Ñù.Bundle</a>
<a id="3101" class="Comment">-- module ‚ÑÇ&#39; = RField               ‚ÑÇ.Bundle-- </a>

  

<a id="3154" class="Comment">-- coerce-OCSR : ‚àÄ{l p} {ll : NumberKind} {ùïèOCSR ùïêOCSR : ROrderedCommSemiring {‚Ñù‚Ñì} {‚Ñù‚Ñì&#39;}}</a>
<a id="3244" class="Comment">--             ‚Üí (x : Number (l ,, p))</a>
<a id="3283" class="Comment">--             ‚Üí {f : Il l ‚Üí Il ll}</a>
<a id="3319" class="Comment">--             ‚Üí IsROrderedCommSemiringInclusion ùïèOCSR ùïêOCSR f</a>
<a id="3382" class="Comment">--             ‚Üí Ip ll p (f (num x))</a>
<a id="3419" class="Comment">-- coerce-OCSR {l} {ll} {p} {ùïèOCSR} {ùïêOCSR} {f} (x ,, q) = ?</a>


<a id="3482" class="Keyword">private</a>
  <a id="3492" class="Keyword">instance</a>
    <a id="z‚â§n&#39;"></a><a id="3505" href="Number.html#3505" class="Function">z‚â§n&#39;</a> <a id="3510" class="Symbol">:</a> <a id="3512" class="Symbol">‚àÄ</a> <a id="3514" class="Symbol">{</a><a id="3515" href="Number.html#3515" class="Bound">n</a><a id="3516" class="Symbol">}</a>                 <a id="3534" class="Symbol">‚Üí</a> <a id="3536" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>  <a id="3542" href="Number.html#616" class="Function Operator">‚â§‚Çô</a> <a id="3545" href="Number.html#3515" class="Bound">n</a>
    <a id="3551" href="Number.html#3505" class="Function">z‚â§n&#39;</a> <a id="3556" class="Symbol">{</a><a id="3557" href="Number.html#3557" class="Bound">n</a><a id="3558" class="Symbol">}</a> <a id="3560" class="Symbol">=</a> <a id="3562" href="Number.html#586" class="Function">z‚â§n</a>
    <a id="s‚â§s&#39;"></a><a id="3570" href="Number.html#3570" class="Function">s‚â§s&#39;</a> <a id="3575" class="Symbol">:</a> <a id="3577" class="Symbol">‚àÄ</a> <a id="3579" class="Symbol">{</a><a id="3580" href="Number.html#3580" class="Bound">m</a> <a id="3582" href="Number.html#3582" class="Bound">n</a><a id="3583" class="Symbol">}</a> <a id="3585" class="Symbol">{{</a><a id="3587" href="Number.html#3587" class="Bound">m‚â§n</a> <a id="3591" class="Symbol">:</a> <a id="3593" href="Number.html#3580" class="Bound">m</a> <a id="3595" href="Number.html#616" class="Function Operator">‚â§‚Çô</a> <a id="3598" href="Number.html#3582" class="Bound">n</a><a id="3599" class="Symbol">}}</a> <a id="3602" class="Symbol">‚Üí</a> <a id="3604" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3608" href="Number.html#3580" class="Bound">m</a> <a id="3610" href="Number.html#616" class="Function Operator">‚â§‚Çô</a> <a id="3613" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3617" href="Number.html#3582" class="Bound">n</a>
    <a id="3623" href="Number.html#3570" class="Function">s‚â§s&#39;</a> <a id="3628" class="Symbol">{</a><a id="3629" href="Number.html#3629" class="Bound">m</a><a id="3630" class="Symbol">}</a> <a id="3632" class="Symbol">{</a><a id="3633" href="Number.html#3633" class="Bound">n</a><a id="3634" class="Symbol">}</a> <a id="3636" class="Symbol">{{</a><a id="3638" href="Number.html#3638" class="Bound">m‚â§n</a><a id="3641" class="Symbol">}}</a> <a id="3644" class="Symbol">=</a> <a id="3646" href="Number.html#604" class="Function">s‚â§s</a> <a id="3650" href="Number.html#3638" class="Bound">m‚â§n</a>

<a id="3655" class="Comment">{-
-- TODO: why does `it` not work here?
‚Åª¬π-Levels : (a : NumberKind) ‚Üí Œ£[ b ‚àà NumberKind ] a ‚â§‚Çô‚Çó b
‚Åª¬π-Levels isNat     = isRat     , z‚â§n -- it
‚Åª¬π-Levels isInt     = isRat     , s‚â§s z‚â§n -- s‚â§s&#39; {{z‚â§n&#39;}}
‚Åª¬π-Levels isRat     = isRat     , s‚â§s (s‚â§s z‚â§n) 
‚Åª¬π-Levels isReal    = isReal    , s‚â§s (s‚â§s (s‚â§s z‚â§n)) -- it 
‚Åª¬π-Levels isComplex = isComplex , s‚â§s (s‚â§s (s‚â§s (s‚â§s z‚â§n))) 

‚Åª¬π-Levels&#39; : (a : NumberKind) ‚Üí NumberKind
‚Åª¬π-Levels&#39; x = max‚Çô‚Çó x isRat
-}</a>

<a id="4106" class="Keyword">open</a> <a id="4111" href="Number.Blueprint.html#2238" class="Module">PatternsType</a>

<a id="4125" class="Comment">{-
private
  pattern X   = anyPositivity
  pattern X‚Å∫‚Åª = isNonzero
  pattern X‚ÇÄ‚Å∫ = isNonnegative
  pattern X‚Å∫  = isPositive
  pattern X‚Åª  = isNegative
  pattern X‚ÇÄ‚Åª = isNonpositive
-}</a>

<a id="4310" class="Comment">{-
‚Åª¬π-Types : NumberProp ‚Üí Maybe NumberProp
‚Åª¬π-Types (level ,, X  ) = nothing
‚Åª¬π-Types (level ,, X‚ÇÄ‚Å∫) = nothing
‚Åª¬π-Types (level ,, X‚ÇÄ‚Åª) = nothing
‚Åª¬π-Types (level ,, p  ) = just (fst (‚Åª¬π-Levels level) ,, p)
-}</a>

<a id="4520" class="Comment">-- ‚àÄ{{ q : Unit }} ‚Üí Number (level ,, X‚Å∫‚Åª)</a>
<a id="4563" class="Comment">-- ‚àÄ{{ q : Unit }} ‚Üí Number (level ,, X‚Å∫ )</a>
<a id="4606" class="Comment">-- ‚àÄ{{ q : Unit }} ‚Üí Number (level ,, X‚Åª )</a>

<a id="4650" class="Comment">-- pattern [‚Ñù‚ÇÄ‚Å∫] = (isReal , X‚ÇÄ‚Å∫)</a>
<a id="4684" class="Comment">-- [‚Ñù‚ÇÄ‚Å∫] = Number (isReal , isNonnegative·µí ≥)</a>
<a id="4729" class="Comment">-- [‚Ñù‚Å∫]  = Number (isReal , isPositive·µí ≥)</a>
<a id="4771" class="Comment">-- [‚Ñï‚Å∫]  = Number (isNat  , isPositive·µí ≥)</a>
<a id="4813" class="Comment">-- [‚Ñù]   = Number (isReal , anyPositivity·µí ≥)</a>

<a id="4859" class="Keyword">open</a> <a id="4864" class="Keyword">import</a> <a id="4871" href="Number.Prettyprint.html" class="Module">Number.Prettyprint</a>

<a id="4891" class="Comment">-- {-# DISPLAY max‚Çô‚Çó&#39; isReal isReal = isReal #-}</a>
<a id="4940" class="Comment">-- {-# DISPLAY Number (isReal , isNonnegative) = [‚Ñù‚ÇÄ‚Å∫] #-}</a>
<a id="4999" class="Comment">-- {-# DISPLAY Number (isReal , isPositive)    = [‚Ñù‚Å∫]  #-}</a>


<a id="[1 ≥]"></a><a id="5060" href="Number.html#5060" class="Function">[1 ≥]</a> <a id="5065" class="Symbol">:</a> <a id="5067" href="Number.Prettyprint.html#1075" class="Function">[‚Ñù‚Å∫]</a>
<a id="5072" href="Number.html#5060" class="Function">[1 ≥]</a> <a id="5077" class="Symbol">=</a> <a id="5079" href="Number.Postulates.html#4267" class="Function">1 ≥</a> <a id="5082" href="Number.Blueprint.html#8506" class="InductiveConstructor Operator">,,</a> <a id="5085" href="Number.Structures.html#1818" class="Function">‚Ñù.0&lt;1</a>



<a id="5094" class="Comment">-- test101 : Number (isNat , isPositive·µí ≥) ‚Üí Number (isReal ,  isNonnegative·µí ≥) ‚Üí {!!}</a>

<a id="5182" class="Keyword">open</a> <a id="5187" class="Keyword">import</a> <a id="5194" href="Function.Base.html" class="Module">Function.Base</a> <a id="5208" class="Keyword">using</a> <a id="5214" class="Symbol">(</a><a id="5215" href="Function.Base.html#4590" class="Function">typeOf</a><a id="5221" class="Symbol">)</a>

<a id="test201"></a><a id="5224" href="Number.html#5224" class="Function">test201</a> <a id="5232" class="Symbol">:</a> <a id="5234" href="Number.Prettyprint.html#310" class="Function">[‚Ñï‚Å∫]</a> <a id="5239" class="Symbol">‚Üí</a> <a id="5241" href="Number.Prettyprint.html#1030" class="Function">[‚Ñù‚ÇÄ‚Å∫]</a> <a id="5247" class="Symbol">‚Üí</a> <a id="5249" href="Number.Prettyprint.html#940" class="Function">[‚Ñù]</a>
<a id="5253" class="Comment">-- As-patterns (or @-patterns) go well with resolving things in our approach</a>
<a id="5330" href="Number.html#5224" class="Function">test201</a> <a id="5338" href="Number.html#5338" class="Bound">n</a><a id="5339" class="Symbol">@(</a><a id="5341" href="Number.html#5341" class="Bound">nn</a> <a id="5344" href="Number.Blueprint.html#8506" class="InductiveConstructor Operator">,,</a> <a id="5347" href="Number.html#5347" class="Bound">np</a><a id="5349" class="Symbol">)</a> <a id="5351" href="Number.html#5351" class="Bound">r</a><a id="5352" class="Symbol">@(</a><a id="5354" href="Number.html#5354" class="Bound">rn</a> <a id="5357" href="Number.Blueprint.html#8506" class="InductiveConstructor Operator">,,</a> <a id="5360" href="Number.html#5360" class="Bound">rp</a><a id="5362" class="Symbol">)</a> <a id="5364" class="Symbol">=</a> <a id="5366" class="Keyword">let</a>
<a id="5370" class="Comment">-- generic operations are provided</a>
<a id="5405" class="Comment">-- q : [‚Ñï‚Å∫]</a>
<a id="5417" class="Comment">-- z : [‚Ñù‚ÇÄ‚Å∫]</a>
   <a id="5433" href="Number.html#5433" class="Bound">q</a> <a id="5435" class="Symbol">=</a> <a id="5437" href="Number.html#5338" class="Bound">n</a> <a id="5439" href="Number.GenericOperations.html#15508" class="Function Operator">+</a> <a id="5441" href="Number.html#5338" class="Bound">n</a>
   <a id="5446" href="Number.html#5446" class="Bound">z</a> <a id="5448" class="Symbol">=</a> <a id="5450" href="Number.html#5351" class="Bound">r</a> <a id="5452" href="Number.GenericOperations.html#15508" class="Function Operator">+</a> <a id="5454" href="Number.html#5351" class="Bound">r</a>

<a id="5457" class="Comment">-- we can project-out the underlying number of a `Number` with `num`</a>
<a id="5526" class="Comment">-- z ≥ : ‚Ñù</a>
   <a id="5539" href="Number.html#5539" class="Bound">z ≥</a> <a id="5542" class="Symbol">=</a> <a id="5544" href="Number.Blueprint.html#8630" class="Function">num</a> <a id="5548" href="Number.html#5446" class="Bound">z</a>

<a id="5551" class="Comment">-- and we can project-out the property of a `Number` with `prp`</a>
<a id="5615" class="Comment">-- zp : 0 ≥ ‚â§ ≥ (rn + ≥ rn)</a>
   <a id="5643" href="Number.html#5643" class="Bound">zp</a> <a id="5646" class="Symbol">=</a> <a id="5648" href="Number.Blueprint.html#8724" class="Function">prp</a> <a id="5652" href="Number.html#5446" class="Bound">z</a>

<a id="5655" class="Comment">-- since the generic `_+_` makes use of `_+ ≥_` on ‚Ñù, we get definitional equality</a>
   <a id="5740" href="Number.html#5740" class="Bound">_</a> <a id="5742" class="Symbol">:</a> <a id="5744" href="Number.html#5539" class="Bound">z ≥</a> <a id="5747" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="5749" href="Number.html#5354" class="Bound">rn</a> <a id="5752" href="Number.Postulates.html#4283" class="Function Operator">+ ≥</a> <a id="5755" href="Number.html#5354" class="Bound">rn</a>
   <a id="5761" class="Symbol">_</a> <a id="5763" class="Symbol">=</a> <a id="5765" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>

<a id="5771" class="Comment">-- we can turn a generic number into a Œ£ pair with `pop`</a>
<a id="5828" class="Comment">-- q ≥   : ‚Ñï‚ÇÄ</a>
<a id="5841" class="Comment">-- q ≥   = nn +‚Åø nn</a>
<a id="5860" class="Comment">-- qp   : 0‚Åø &lt;‚Åø (nn +‚Åø nn)</a>
<a id="5887" class="Comment">-- qp   = +-&lt;-&lt;-implies-&lt; ≥ nn nn np np</a>
   <a id="5929" class="Symbol">(</a><a id="5930" href="Number.html#5930" class="Bound">q ≥</a> <a id="5933" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5935" href="Number.html#5935" class="Bound">qp</a><a id="5937" class="Symbol">)</a> <a id="5939" class="Symbol">=</a> <a id="5941" href="Number.Blueprint.html#8836" class="Function">pop</a> <a id="5945" href="Number.html#5433" class="Bound">q</a>

<a id="5948" class="Comment">-- and we can create a number with `_,,_`</a>
<a id="5990" class="Comment">-- this needs some type annotation for help</a>
   <a id="6037" href="Number.html#6037" class="Bound">q&#39;</a> <a id="6040" class="Symbol">:</a> <a id="6042" href="Function.Base.html#4590" class="Function">typeOf</a> <a id="6049" href="Number.html#5433" class="Bound">q</a>
   <a id="6054" href="Number.html#6037" class="Bound">q&#39;</a> <a id="6057" class="Symbol">=</a> <a id="6059" href="Number.html#5930" class="Bound">q ≥</a> <a id="6062" href="Number.Blueprint.html#8506" class="InductiveConstructor Operator">,,</a> <a id="6065" href="Number.html#5935" class="Bound">qp</a>

<a id="6069" class="Comment">-- if the two parts of q and q&#39; are in scope, then we get definitional equality</a>
   <a id="6152" href="Number.html#6152" class="Bound">_</a> <a id="6154" class="Symbol">:</a> <a id="6156" href="Number.html#5433" class="Bound">q</a> <a id="6158" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="6160" href="Number.html#6037" class="Bound">q&#39;</a>
   <a id="6166" class="Symbol">_</a> <a id="6168" class="Symbol">=</a> <a id="6170" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>

<a id="6176" class="Comment">-- r is nonnegative from [‚Ñù‚ÇÄ‚Å∫], [1 ≥] is positive from [‚Ñù‚Å∫]</a>
<a id="6235" class="Comment">-- and _+_ makes use of the fact that &quot;positive + nonnegative = positive&quot;</a>
<a id="6309" class="Comment">-- y : [‚Ñù‚Å∫]</a>
<a id="6321" class="Comment">-- y = (rn + ≥ 1 ≥) ,, +-‚â§-&lt;-implies-&lt; ≥ rn 1 ≥ rp 0&lt;1</a>
   <a id="6375" href="Number.html#6375" class="Bound">y</a> <a id="6377" class="Symbol">=</a>  <a id="6380" href="Number.html#5351" class="Bound">r</a> <a id="6382" href="Number.GenericOperations.html#15508" class="Function Operator">+</a> <a id="6384" href="Number.html#5060" class="Function">[1 ≥]</a>

<a id="6390" class="Comment">-- _+_ automatically coerces n from ‚Ñï‚Å∫ to ‚Ñù‚Å∫</a>
<a id="6435" class="Comment">-- and uses the fact that &quot;positive + nonnegative = positive&quot;</a>
<a id="6497" class="Comment">-- n+r : [‚Ñù‚Å∫]</a>
<a id="6511" class="Comment">-- n+r = (‚Ñï‚Ü™‚Ñù nn + ≥ rn) ,, +-&lt;-‚â§-implies-&lt; ≥ (‚Ñï‚Ü™‚Ñù nn) rn (coerce-‚Ñï‚Ü™‚Ñù (nn ,, np)) rp</a>
   <a id="6597" href="Number.html#6597" class="Bound">n+r</a> <a id="6601" class="Symbol">=</a> <a id="6603" href="Number.html#5338" class="Bound">n</a> <a id="6605" href="Number.GenericOperations.html#15508" class="Function Operator">+</a> <a id="6607" href="Number.html#5351" class="Bound">r</a>

<a id="6610" class="Comment">-- generic relations like _&lt;_ also make use of their underlying relations</a>
<a id="6684" class="Comment">-- and therefore we also get definitional equality, no matter how the relation is stated</a>
   <a id="6776" href="Number.html#6776" class="Bound">pp</a>   <a id="6781" class="Symbol">:</a> <a id="6783" href="Number.html#5060" class="Function">[1 ≥]</a> <a id="6788" href="Number.GenericOperations.html#16272" class="Function Operator">&lt;</a>      <a id="6795" class="Symbol">(</a><a id="6796" href="Number.html#5351" class="Bound">r</a>  <a id="6799" href="Number.GenericOperations.html#15508" class="Function Operator">+</a> <a id="6801" href="Number.html#5060" class="Function">[1 ≥]</a><a id="6805" class="Symbol">)</a>
   <a id="6810" href="Number.html#6776" class="Bound">pp</a>   <a id="6815" class="Symbol">=</a> <a id="6817" class="Symbol">{!!}</a>
   <a id="6825" href="Number.html#6825" class="Bound">pp&#39;</a>  <a id="6830" class="Symbol">:</a>  <a id="6833" href="Number.Postulates.html#4267" class="Function">1 ≥</a>  <a id="6837" href="Number.Postulates.html#4161" class="Function Operator">&lt; ≥</a> <a id="6840" href="Number.Blueprint.html#8630" class="Function">num</a> <a id="6844" class="Symbol">(</a><a id="6845" href="Number.html#5351" class="Bound">r</a>  <a id="6848" href="Number.GenericOperations.html#15508" class="Function Operator">+</a> <a id="6850" href="Number.html#5060" class="Function">[1 ≥]</a><a id="6854" class="Symbol">)</a>
   <a id="6859" href="Number.html#6825" class="Bound">pp&#39;</a>  <a id="6864" class="Symbol">=</a> <a id="6866" class="Symbol">{!!}</a>
   <a id="6874" href="Number.html#6874" class="Bound">pp&#39;&#39;</a> <a id="6879" class="Symbol">:</a>  <a id="6882" href="Number.Postulates.html#4267" class="Function">1 ≥</a>  <a id="6886" href="Number.Postulates.html#4161" class="Function Operator">&lt; ≥</a>     <a id="6893" class="Symbol">(</a><a id="6894" href="Number.html#5354" class="Bound">rn</a> <a id="6897" href="Number.Postulates.html#4283" class="Function Operator">+ ≥</a> <a id="6900" href="Number.Postulates.html#4267" class="Function">1 ≥</a> <a id="6903" class="Symbol">)</a>
   <a id="6908" href="Number.html#6874" class="Bound">pp&#39;&#39;</a> <a id="6913" class="Symbol">=</a> <a id="6915" class="Symbol">{!!}</a>
   <a id="6923" href="Number.html#6923" class="Bound">_</a> <a id="6925" class="Symbol">:</a> <a id="6927" class="Symbol">(</a><a id="6928" href="Number.html#6776" class="Bound">pp</a> <a id="6931" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="6933" href="Number.html#6825" class="Bound">pp&#39;</a><a id="6936" class="Symbol">)</a> <a id="6938" href="Number.html#842" class="Function Operator">√ó</a> <a id="6940" class="Symbol">(</a><a id="6941" href="Number.html#6776" class="Bound">pp</a> <a id="6944" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="6946" href="Number.html#6874" class="Bound">pp&#39;&#39;</a><a id="6950" class="Symbol">)</a>
   <a id="6955" class="Symbol">_</a> <a id="6957" class="Symbol">=</a> <a id="6959" href="Cubical.Foundations.Id.html#588" class="Function">refl</a> <a id="6964" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6966" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>
   <a id="6974" class="Keyword">in</a> <a id="6977" class="Symbol">{!!}</a>




</pre></body></html>