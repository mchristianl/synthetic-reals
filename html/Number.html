<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Number</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--cubical</a> <a id="23" class="Pragma">--no-import-sorts</a> <a id="41" class="Pragma">--allow-unsolved-metas</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">module</a> <a id="76" href="Number.html" class="Module">Number</a> <a id="83" class="Keyword">where</a>

<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="117" class="Keyword">renaming</a> <a id="126" class="Symbol">(</a><a id="127" href="Agda.Primitive.html#736" class="Primitive Operator">_‚äî_</a> <a id="131" class="Symbol">to</a> <a id="Primitive._‚äî_"></a><a id="134" href="Number.html#134" class="Primitive Operator">‚Ñì-max</a><a id="139" class="Symbol">;</a> <a id="141" href="Agda.Primitive.html#706" class="Primitive">lsuc</a> <a id="146" class="Symbol">to</a> <a id="Primitive.lsuc"></a><a id="149" href="Number.html#149" class="Primitive">‚Ñì-suc</a><a id="154" class="Symbol">;</a> <a id="156" href="Agda.Primitive.html#690" class="Primitive">lzero</a> <a id="162" class="Symbol">to</a> <a id="Primitive.lzero"></a><a id="165" href="Number.html#165" class="Primitive">‚Ñì-zero</a><a id="171" class="Symbol">)</a>

<a id="174" class="Keyword">private</a>
  <a id="184" class="Keyword">variable</a>
    <a id="197" href="Number.html#197" class="Generalizable">‚Ñì</a> <a id="199" href="Number.html#199" class="Generalizable">‚Ñì&#39;</a> <a id="202" href="Number.html#202" class="Generalizable">‚Ñì&#39;&#39;</a> <a id="206" class="Symbol">:</a> <a id="208" href="Agda.Primitive.html#523" class="Postulate">Level</a>

<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="Cubical.Foundations.Everything.html" class="Module">Cubical.Foundations.Everything</a> <a id="258" class="Keyword">renaming</a> <a id="267" class="Symbol">(</a><a id="268" href="Cubical.Foundations.GroupoidLaws.html#311" class="Function Operator">_‚Åª¬π</a> <a id="272" class="Symbol">to</a> <a id="Foundations.GroupoidLaws._‚Åª¬π"></a><a id="275" href="Number.html#275" class="Function Operator">_‚Åª¬π·µñ</a><a id="279" class="Symbol">;</a> <a id="281" href="Cubical.Foundations.GroupoidLaws.html#2243" class="Function">assoc</a> <a id="287" class="Symbol">to</a> <a id="Foundations.GroupoidLaws.assoc"></a><a id="290" href="Number.html#290" class="Function">‚àô-assoc</a><a id="297" class="Symbol">)</a>
<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Cubical.Relation.Nullary.Base.html" class="Module">Cubical.Relation.Nullary.Base</a> <a id="341" class="Comment">-- ¬¨_</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Cubical.Relation.Binary.Base.html" class="Module">Cubical.Relation.Binary.Base</a> <a id="388" class="Comment">-- Rel</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Cubical.Data.Unit.Base.html" class="Module">Cubical.Data.Unit.Base</a> <a id="430" class="Comment">-- Unit</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="469" class="Comment">-- ‚ä•</a>
<a id="474" class="Keyword">open</a> <a id="479" class="Keyword">import</a> <a id="486" href="Cubical.Data.Sum.Base.html" class="Module">Cubical.Data.Sum.Base</a> <a id="508" class="Keyword">renaming</a> <a id="517" class="Symbol">(</a><a id="518" href="Cubical.Data.Sum.Base.html#188" class="Datatype Operator">_‚äé_</a> <a id="522" class="Symbol">to</a> <a id="525" class="Keyword">infixr</a> <a id="532" class="Number">4</a> <a id="Data.Sum.Base._‚äé_"></a><a id="534" href="Number.html#534" class="Datatype Operator">_‚äé_</a><a id="537" class="Symbol">)</a>
<a id="539" class="Keyword">open</a> <a id="544" class="Keyword">import</a> <a id="551" href="Cubical.Data.Sigma.Base.html" class="Module">Cubical.Data.Sigma.Base</a> <a id="575" class="Keyword">renaming</a> <a id="584" class="Symbol">(</a><a id="585" href="Cubical.Data.Sigma.Base.html#489" class="Function Operator">_√ó_</a> <a id="589" class="Symbol">to</a> <a id="592" class="Keyword">infixr</a> <a id="599" class="Number">4</a> <a id="Data.Sigma.Base._√ó_"></a><a id="601" href="Number.html#601" class="Function Operator">_√ó_</a><a id="604" class="Symbol">)</a>
<a id="606" class="Keyword">open</a> <a id="611" class="Keyword">import</a> <a id="618" href="Cubical.Data.Empty.html" class="Module">Cubical.Data.Empty</a> <a id="637" class="Keyword">renaming</a> <a id="646" class="Symbol">(</a><a id="647" href="Cubical.Data.Empty.Base.html#190" class="Function">elim</a> <a id="652" class="Symbol">to</a> <a id="Data.Empty.Base.elim"></a><a id="655" href="Number.html#655" class="Function">‚ä•-elim</a><a id="661" class="Symbol">)</a> <a id="663" class="Comment">-- `‚ä•` and `elim`</a>
<a id="681" class="Keyword">open</a> <a id="686" class="Keyword">import</a> <a id="693" href="Function.Base.html" class="Module">Function.Base</a> <a id="707" class="Keyword">using</a> <a id="713" class="Symbol">(</a><a id="714" href="Function.Base.html#4708" class="Function">it</a><a id="716" class="Symbol">;</a> <a id="718" href="Function.Base.html#4458" class="Function Operator">_‚àã_</a><a id="721" class="Symbol">;</a> <a id="723" href="Function.Base.html#1577" class="Function Operator">_$_</a><a id="726" class="Symbol">)</a>

<a id="729" class="Comment">-- open import Data.Nat.Base using (‚Ñï) renaming (_‚â§_ to _‚â§‚Çô_)</a>
<a id="791" class="Comment">-- open import Cubical.Data.Nat using (‚Ñï; zero; suc) renaming (_+_ to _+‚Çô_)</a>
<a id="867" class="Comment">-- open import Cubical.Data.Nat.Order renaming (zero-‚â§ to z‚â§n; suc-‚â§-suc to s‚â§s; _‚â§_ to _‚â§‚Çô_; _&lt;_ to _&lt;‚Çô_)</a>
<a id="974" class="Comment">-- open import Cubical.Data.Fin.Base</a>
<a id="1011" class="Comment">-- import Cubical.Data.Fin.Properties</a>
<a id="1049" class="Comment">-- open import Cubical.Data.Nat using (‚Ñï; zero; suc) renaming (_+_ to _+‚Çô_)</a>
<a id="1125" class="Comment">-- open import Cubical.Data.Nat.Properties using (+-suc; injSuc; snotz; +-comm; +-assoc; +-zero; inj-m+)</a>
<a id="1230" class="Comment">-- open import Cubical.Data.Nat.Order renaming (zero-‚â§ to z‚â§n; suc-‚â§-suc to s‚â§s; _‚â§_ to _‚â§‚Çô_; _&lt;_ to _&lt;‚Çô_; _‚âü_ to _‚âü‚Çô_)</a>
<a id="1350" class="Comment">-- open import Data.Nat.Base using (‚Ñï; z‚â§n; s‚â§s; zero; suc) renaming (_‚â§_ to _‚â§‚Çô_; _&lt;_ to _&lt;‚Çô_; _+_ to _+‚Çô_)</a>
<a id="1459" class="Comment">-- open import Agda.Builtin.Bool renaming (true to TT; false to FF)</a>
<a id="1527" class="Comment">-- import Cubical.Data.Fin.Properties</a>
<a id="1565" class="Comment">-- open import Data.Nat.Properties using (+-mono-&lt;)</a>

<a id="1618" class="Comment">-- open import Bundles</a>

<a id="1642" class="Keyword">open</a> <a id="1647" class="Keyword">import</a> <a id="1654" href="Number.Postulates.html" class="Module">Number.Postulates</a>
<a id="1672" class="Keyword">open</a> <a id="1677" class="Keyword">import</a> <a id="1684" href="Number.Structures.html" class="Module">Number.Structures</a>
<a id="1702" class="Keyword">open</a> <a id="1707" class="Keyword">import</a> <a id="1714" href="Number.Bundles.html" class="Module">Number.Bundles</a>
<a id="1729" class="Keyword">open</a> <a id="1734" class="Keyword">import</a> <a id="1741" href="Number.Inclusions.html" class="Module">Number.Inclusions</a>
<a id="1759" class="Keyword">open</a> <a id="1764" class="Keyword">import</a> <a id="1771" href="Number.Base.html" class="Module">Number.Base</a>
<a id="1783" class="Keyword">open</a> <a id="1788" class="Keyword">import</a> <a id="1795" href="Number.Coercions.html" class="Module">Number.Coercions</a>
<a id="1812" class="Keyword">open</a> <a id="1817" class="Keyword">import</a> <a id="1824" href="Number.Operations.html" class="Module">Number.Operations</a>

<a id="1843" class="Keyword">open</a> <a id="1848" href="Number.Postulates.html#2235" class="Module">‚Ñï‚Åø</a>
<a id="1851" class="Keyword">open</a> <a id="1856" href="Number.Postulates.html#3568" class="Module">‚Ñ§·∂ª</a>
<a id="1859" class="Keyword">open</a> <a id="1864" href="Number.Postulates.html#4946" class="Module">‚Ñö·∂†</a>
<a id="1867" class="Keyword">open</a> <a id="1872" href="Number.Postulates.html#6734" class="Module">‚Ñù ≥</a>
<a id="1875" class="Keyword">open</a> <a id="1880" href="Number.Postulates.html#8167" class="Module">‚ÑÇ·∂ú</a>

<a id="1884" class="Keyword">import</a> <a id="1891" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>


<a id="1913" class="Comment">-- NOTE: well, for 15 allowed coercions, we might just enumerate them</a>
<a id="1983" class="Comment">--   unfortunately with overlapping patterns a style as in `Cl` is not possible</a>
<a id="2063" class="Comment">--   we need to explicitly write out all the 5√ó5 combinations</a>
<a id="2125" class="Comment">--   or, we implement a min operator which might work even with overlapping patterns</a>

<a id="2211" class="Comment">-- num {isNat     ,, p} (x ,, q) = x</a>
<a id="2248" class="Comment">-- num {isInt     ,, p} (x ,, q) = x</a>
<a id="2285" class="Comment">-- num {isRat     ,, p} (x ,, q) = x</a>
<a id="2322" class="Comment">-- num {isReal    ,, p} (x ,, q) = x</a>
<a id="2359" class="Comment">-- num {isComplex ,, p} (x ,, q) = x</a>


<a id="2398" class="Comment">-- TODO: name this &quot;inject&quot; instead of &quot;coerce&quot;</a>
<a id="2446" class="Comment">-- TODO: make the module ‚Ñ§ and the Carrier ‚Ñ§.‚Ñ§</a>
<a id="2493" class="Comment">-- TODO: for a binary relation `a # b` it would be nice to have a way to compose ‚â°-pathes to the left and the right</a>
<a id="2609" class="Comment">--       similar to how ‚àô can be used for pathes</a>
<a id="2658" class="Comment">--       this reasoning might extend to transitive relations</a>
<a id="2719" class="Comment">--       `cong‚ÇÇ _#_ refl x` and `cong‚ÇÇ _#_ x refl` to this (together with `transport`)</a>
<a id="2806" class="Comment">-- NOTE: maybe ‚Ñï‚Ü™‚Ñ§ should be a postfix operation</a>

<a id="2856" class="Comment">-- module _ where</a>
<a id="2874" class="Comment">-- module ‚Ñï&#39; = ROrderedCommSemiring ‚Ñï.Bundle</a>
<a id="2919" class="Comment">-- module ‚Ñ§&#39; = ROrderedCommRing     ‚Ñ§.Bundle</a>
<a id="2964" class="Comment">-- module ‚Ñö&#39; = ROrderedField        ‚Ñö.Bundle</a>
<a id="3009" class="Comment">-- module ‚Ñù&#39; = ROrderedField        ‚Ñù.Bundle</a>
<a id="3054" class="Comment">-- module ‚ÑÇ&#39; = RField               ‚ÑÇ.Bundle-- </a>

  

<a id="3107" class="Comment">-- coerce-OCSR : ‚àÄ{l p} {ll : NumberKind} {ùïèOCSR ùïêOCSR : ROrderedCommSemiring {‚Ñù‚Ñì} {‚Ñù‚Ñì&#39;}}</a>
<a id="3197" class="Comment">--             ‚Üí (x : Number (l ,, p))</a>
<a id="3236" class="Comment">--             ‚Üí {f : Il l ‚Üí Il ll}</a>
<a id="3272" class="Comment">--             ‚Üí IsROrderedCommSemiringInclusion ùïèOCSR ùïêOCSR f</a>
<a id="3335" class="Comment">--             ‚Üí Ip ll p (f (num x))</a>
<a id="3372" class="Comment">-- coerce-OCSR {l} {ll} {p} {ùïèOCSR} {ùïêOCSR} {f} (x ,, q) = ?</a>

<a id="3434" class="Comment">{-
private
  instance
    z‚â§n&#39; : ‚àÄ {n}                 ‚Üí zero  ‚â§‚Çô n
    z‚â§n&#39; {n} = z‚â§n
    s‚â§s&#39; : ‚àÄ {m n} {{m‚â§n : m ‚â§‚Çô n}} ‚Üí suc m ‚â§‚Çô suc n
    s‚â§s&#39; {m} {n} {{m‚â§n}} = s‚â§s m‚â§n
-}</a>

<a id="3613" class="Comment">{-
-- TODO: why does `it` not work here?
‚Åª¬π-Levels : (a : NumberKind) ‚Üí Œ£[ b ‚àà NumberKind ] a ‚â§‚Çô‚Çó b
‚Åª¬π-Levels isNat     = isRat     , z‚â§n -- it
‚Åª¬π-Levels isInt     = isRat     , s‚â§s z‚â§n -- s‚â§s&#39; {{z‚â§n&#39;}}
‚Åª¬π-Levels isRat     = isRat     , s‚â§s (s‚â§s z‚â§n) 
‚Åª¬π-Levels isReal    = isReal    , s‚â§s (s‚â§s (s‚â§s z‚â§n)) -- it 
‚Åª¬π-Levels isComplex = isComplex , s‚â§s (s‚â§s (s‚â§s (s‚â§s z‚â§n))) 

‚Åª¬π-Levels&#39; : (a : NumberKind) ‚Üí NumberKind
‚Åª¬π-Levels&#39; x = max‚Çô‚Çó x isRat
-}</a>

<a id="4064" class="Keyword">open</a> <a id="4069" href="Number.Base.html#2233" class="Module">PatternsType</a>

<a id="4083" class="Comment">{-
private
  pattern X   = anyPositivity
  pattern X‚Å∫‚Åª = isNonzero
  pattern X‚ÇÄ‚Å∫ = isNonnegative
  pattern X‚Å∫  = isPositive
  pattern X‚Åª  = isNegative
  pattern X‚ÇÄ‚Åª = isNonpositive
-}</a>

<a id="4268" class="Comment">{-
‚Åª¬π-Types : NumberProp ‚Üí Maybe NumberProp
‚Åª¬π-Types (level ,, X  ) = nothing
‚Åª¬π-Types (level ,, X‚ÇÄ‚Å∫) = nothing
‚Åª¬π-Types (level ,, X‚ÇÄ‚Åª) = nothing
‚Åª¬π-Types (level ,, p  ) = just (fst (‚Åª¬π-Levels level) ,, p)
-}</a>

<a id="4478" class="Comment">-- ‚àÄ{{ q : Unit }} ‚Üí Number (level ,, X‚Å∫‚Åª)</a>
<a id="4521" class="Comment">-- ‚àÄ{{ q : Unit }} ‚Üí Number (level ,, X‚Å∫ )</a>
<a id="4564" class="Comment">-- ‚àÄ{{ q : Unit }} ‚Üí Number (level ,, X‚Åª )</a>

<a id="4608" class="Comment">-- pattern [‚Ñù‚ÇÄ‚Å∫] = (isReal , X‚ÇÄ‚Å∫)</a>
<a id="4642" class="Comment">-- [‚Ñù‚ÇÄ‚Å∫] = Number (isReal , isNonnegative·µí ≥)</a>
<a id="4687" class="Comment">-- [‚Ñù‚Å∫]  = Number (isReal , isPositive·µí ≥)</a>
<a id="4729" class="Comment">-- [‚Ñï‚Å∫]  = Number (isNat  , isPositive·µí ≥)</a>
<a id="4771" class="Comment">-- [‚Ñù]   = Number (isReal , anyPositivity·µí ≥)</a>

<a id="4817" class="Keyword">open</a> <a id="4822" class="Keyword">import</a> <a id="4829" href="Number.Prettyprint.html" class="Module">Number.Prettyprint</a>

<a id="4849" class="Comment">-- {-# DISPLAY max‚Çô‚Çó&#39; isReal isReal = isReal #-}</a>
<a id="4898" class="Comment">-- {-# DISPLAY Number (isReal , isNonnegative) = [‚Ñù‚ÇÄ‚Å∫] #-}</a>
<a id="4957" class="Comment">-- {-# DISPLAY Number (isReal , isPositive)    = [‚Ñù‚Å∫]  #-}</a>


<a id="[1 ≥]"></a><a id="5018" href="Number.html#5018" class="Function">[1 ≥]</a> <a id="5023" class="Symbol">:</a> <a id="5025" href="Number.Prettyprint.html#1070" class="Function">[‚Ñù‚Å∫]</a>
<a id="5030" href="Number.html#5018" class="Function">[1 ≥]</a> <a id="5035" class="Symbol">=</a> <a id="5037" href="Number.Postulates.html#6900" class="Function">1 ≥</a> <a id="5040" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5043" href="Number.Structures.html#3521" class="Function">‚Ñù.0&lt;1</a>

<a id="[1]-Type"></a><a id="5050" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5059" class="Symbol">:</a> <a id="5061" class="Symbol">(</a><a id="5062" href="Number.html#5062" class="Bound">l</a> <a id="5064" class="Symbol">:</a> <a id="5066" href="Number.Base.html#497" class="Datatype">NumberKind</a><a id="5076" class="Symbol">)</a> <a id="5078" class="Symbol">‚Üí</a> <a id="5080" href="Agda.Primitive.html#326" class="Primitive">Type</a> <a id="5085" class="Symbol">(</a><a id="5086" href="Number.Base.html#7322" class="Function">NumberLevel</a> <a id="5098" href="Number.html#5062" class="Bound">l</a><a id="5099" class="Symbol">)</a>
<a id="5101" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5110" href="Number.Base.html#523" class="InductiveConstructor">isNat</a>     <a id="5120" class="Symbol">=</a> <a id="5122" href="Number.Prettyprint.html#305" class="Function">[‚Ñï‚Å∫]</a>
<a id="5127" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5136" href="Number.Base.html#548" class="InductiveConstructor">isInt</a>     <a id="5146" class="Symbol">=</a> <a id="5148" href="Number.Prettyprint.html#530" class="Function">[‚Ñ§‚Å∫]</a>
<a id="5153" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5162" href="Number.Base.html#573" class="InductiveConstructor">isRat</a>     <a id="5172" class="Symbol">=</a> <a id="5174" href="Number.Prettyprint.html#800" class="Function">[‚Ñö‚Å∫]</a>
<a id="5179" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5188" href="Number.Base.html#598" class="InductiveConstructor">isReal</a>    <a id="5198" class="Symbol">=</a> <a id="5200" href="Number.Prettyprint.html#1070" class="Function">[‚Ñù‚Å∫]</a>
<a id="5205" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5214" href="Number.Base.html#623" class="InductiveConstructor">isComplex</a> <a id="5224" class="Symbol">=</a> <a id="5226" href="Number.Prettyprint.html#1250" class="Function">[‚ÑÇ‚Å∫‚Åª]</a>

<a id="5233" class="Comment">-- NOTE: this is ambiguous with generic operations such as _+_</a>
<a id="[1]"></a><a id="5296" href="Number.html#5296" class="Function">[1]</a> <a id="5300" class="Symbol">:</a> <a id="5302" class="Symbol">‚àÄ{</a><a id="5304" href="Number.html#5304" class="Bound">l</a><a id="5305" class="Symbol">}</a> <a id="5307" class="Symbol">‚Üí</a> <a id="5309" href="Number.html#5050" class="Function">[1]-Type</a> <a id="5318" href="Number.html#5304" class="Bound">l</a>
<a id="5320" href="Number.html#5296" class="Function">[1]</a> <a id="5324" class="Symbol">{</a><a id="5325" href="Number.Base.html#523" class="InductiveConstructor">isNat</a><a id="5330" class="Symbol">}</a>     <a id="5336" class="Symbol">=</a> <a id="5338" href="Number.Postulates.html#2402" class="Function">1‚Åø</a> <a id="5341" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5344" href="Number.Structures.html#3521" class="Function">‚Ñï.0&lt;1</a> 
<a id="5351" href="Number.html#5296" class="Function">[1]</a> <a id="5355" class="Symbol">{</a><a id="5356" href="Number.Base.html#548" class="InductiveConstructor">isInt</a><a id="5361" class="Symbol">}</a>     <a id="5367" class="Symbol">=</a> <a id="5369" href="Number.Postulates.html#3734" class="Function">1·∂ª</a> <a id="5372" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5375" href="Number.Structures.html#3521" class="Function">‚Ñ§.0&lt;1</a> 
<a id="5382" href="Number.html#5296" class="Function">[1]</a> <a id="5386" class="Symbol">{</a><a id="5387" href="Number.Base.html#573" class="InductiveConstructor">isRat</a><a id="5392" class="Symbol">}</a>     <a id="5398" class="Symbol">=</a> <a id="5400" href="Number.Postulates.html#5094" class="Function">1·∂†</a> <a id="5403" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5406" href="Number.Structures.html#3521" class="Function">‚Ñö.0&lt;1</a> 
<a id="5413" href="Number.html#5296" class="Function">[1]</a> <a id="5417" class="Symbol">{</a><a id="5418" href="Number.Base.html#598" class="InductiveConstructor">isReal</a><a id="5424" class="Symbol">}</a>    <a id="5429" class="Symbol">=</a> <a id="5431" href="Number.Postulates.html#6900" class="Function">1 ≥</a> <a id="5434" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5437" href="Number.Structures.html#3521" class="Function">‚Ñù.0&lt;1</a> 
<a id="5444" href="Number.html#5296" class="Function">[1]</a> <a id="5448" class="Symbol">{</a><a id="5449" href="Number.Base.html#623" class="InductiveConstructor">isComplex</a><a id="5458" class="Symbol">}</a> <a id="5460" class="Symbol">=</a> <a id="5462" href="Number.Postulates.html#8261" class="Function">1·∂ú</a> <a id="5465" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5468" href="Number.Structures.html#2365" class="Function">‚ÑÇ.1#0</a> 


<a id="5477" class="Comment">-- test101 : Number (isNat , isPositive·µí ≥) ‚Üí Number (isReal ,  isNonnegative·µí ≥) ‚Üí {!!}</a>

<a id="5565" class="Keyword">open</a> <a id="5570" class="Keyword">import</a> <a id="5577" href="Function.Base.html" class="Module">Function.Base</a> <a id="5591" class="Keyword">using</a> <a id="5597" class="Symbol">(</a><a id="5598" href="Function.Base.html#4590" class="Function">typeOf</a><a id="5604" class="Symbol">)</a>

<a id="test201"></a><a id="5607" href="Number.html#5607" class="Function">test201</a> <a id="5615" class="Symbol">:</a> <a id="5617" href="Number.Prettyprint.html#305" class="Function">[‚Ñï‚Å∫]</a> <a id="5622" class="Symbol">‚Üí</a> <a id="5624" href="Number.Prettyprint.html#1025" class="Function">[‚Ñù‚ÇÄ‚Å∫]</a> <a id="5630" class="Symbol">‚Üí</a> <a id="5632" href="Number.Prettyprint.html#935" class="Function">[‚Ñù]</a>
<a id="5636" class="Comment">-- As-patterns (or @-patterns) go well with resolving things in our approach</a>
<a id="5713" href="Number.html#5607" class="Function">test201</a> <a id="5721" href="Number.html#5721" class="Bound">n</a><a id="5722" class="Symbol">@(</a><a id="5724" href="Number.html#5724" class="Bound">nn</a> <a id="5727" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5730" href="Number.html#5730" class="Bound">np</a><a id="5732" class="Symbol">)</a> <a id="5734" href="Number.html#5734" class="Bound">r</a><a id="5735" class="Symbol">@(</a><a id="5737" href="Number.html#5737" class="Bound">rn</a> <a id="5740" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="5743" href="Number.html#5743" class="Bound">rp</a><a id="5745" class="Symbol">)</a> <a id="5747" class="Symbol">=</a> <a id="5749" class="Keyword">let</a>
<a id="5753" class="Comment">-- generic operations are provided</a>
<a id="5788" class="Comment">-- q : [‚Ñï‚Å∫]</a>
<a id="5800" class="Comment">-- z : [‚Ñù‚ÇÄ‚Å∫]</a>
   <a id="5816" href="Number.html#5816" class="Bound">q</a> <a id="5818" class="Symbol">=</a> <a id="5820" href="Number.html#5721" class="Bound">n</a> <a id="5822" href="Number.Operations.html#3098" class="Function Operator">+</a> <a id="5824" href="Number.html#5721" class="Bound">n</a>
   <a id="5829" href="Number.html#5829" class="Bound">z</a> <a id="5831" class="Symbol">=</a> <a id="5833" href="Number.html#5734" class="Bound">r</a> <a id="5835" href="Number.Operations.html#3098" class="Function Operator">+</a> <a id="5837" href="Number.html#5734" class="Bound">r</a>

<a id="5840" class="Comment">-- we can project-out the underlying number of a `Number` with `num`</a>
<a id="5909" class="Comment">-- z ≥ : ‚Ñù</a>
   <a id="5922" href="Number.html#5922" class="Bound">z ≥</a> <a id="5925" class="Symbol">=</a> <a id="5927" href="Number.Base.html#7862" class="Function">num</a> <a id="5931" href="Number.html#5829" class="Bound">z</a>

<a id="5934" class="Comment">-- and we can project-out the property of a `Number` with `prp`</a>
<a id="5998" class="Comment">-- zp : 0 ≥ ‚â§ ≥ (rn + ≥ rn)</a>
   <a id="6026" href="Number.html#6026" class="Bound">zp</a> <a id="6029" class="Symbol">=</a> <a id="6031" href="Number.Base.html#7956" class="Function">prp</a> <a id="6035" href="Number.html#5829" class="Bound">z</a>

<a id="6038" class="Comment">-- since the generic `_+_` makes use of `_+ ≥_` on ‚Ñù, we get definitional equality</a>
   <a id="6123" href="Number.html#6123" class="Bound">_</a> <a id="6125" class="Symbol">:</a> <a id="6127" href="Number.html#5922" class="Bound">z ≥</a> <a id="6130" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="6132" href="Number.html#5737" class="Bound">rn</a> <a id="6135" href="Number.Postulates.html#6916" class="Function Operator">+ ≥</a> <a id="6138" href="Number.html#5737" class="Bound">rn</a>
   <a id="6144" class="Symbol">_</a> <a id="6146" class="Symbol">=</a> <a id="6148" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>

<a id="6154" class="Comment">-- we can turn a generic number into a Œ£ pair with `pop`</a>
<a id="6211" class="Comment">-- q ≥   : ‚Ñï‚ÇÄ</a>
<a id="6224" class="Comment">-- q ≥   = nn +‚Åø nn</a>
<a id="6243" class="Comment">-- qp   : 0‚Åø &lt;‚Åø (nn +‚Åø nn)</a>
<a id="6270" class="Comment">-- qp   = +-&lt;-&lt;-implies-&lt; ≥ nn nn np np</a>
   <a id="6312" class="Symbol">(</a><a id="6313" href="Number.html#6313" class="Bound">q ≥</a> <a id="6316" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6318" href="Number.html#6318" class="Bound">qp</a><a id="6320" class="Symbol">)</a> <a id="6322" class="Symbol">=</a> <a id="6324" href="Number.Base.html#8068" class="Function">pop</a> <a id="6328" href="Number.html#5816" class="Bound">q</a>

<a id="6331" class="Comment">-- and we can create a number with `_,,_`</a>
<a id="6373" class="Comment">-- this needs some type annotation for help</a>
   <a id="6420" href="Number.html#6420" class="Bound">q&#39;</a> <a id="6423" class="Symbol">:</a> <a id="6425" href="Function.Base.html#4590" class="Function">typeOf</a> <a id="6432" href="Number.html#5816" class="Bound">q</a>
   <a id="6437" href="Number.html#6420" class="Bound">q&#39;</a> <a id="6440" class="Symbol">=</a> <a id="6442" href="Number.html#6313" class="Bound">q ≥</a> <a id="6445" href="Number.Base.html#7738" class="InductiveConstructor Operator">,,</a> <a id="6448" href="Number.html#6318" class="Bound">qp</a>

<a id="6452" class="Comment">-- if the two parts of q and q&#39; are in scope, then we get definitional equality</a>
   <a id="6535" href="Number.html#6535" class="Bound">_</a> <a id="6537" class="Symbol">:</a> <a id="6539" href="Number.html#5816" class="Bound">q</a> <a id="6541" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="6543" href="Number.html#6420" class="Bound">q&#39;</a>
   <a id="6549" class="Symbol">_</a> <a id="6551" class="Symbol">=</a> <a id="6553" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>

<a id="6559" class="Comment">-- r is nonnegative from [‚Ñù‚ÇÄ‚Å∫], [1 ≥] is positive from [‚Ñù‚Å∫]</a>
<a id="6618" class="Comment">-- and _+_ makes use of the fact that &quot;positive + nonnegative = positive&quot;</a>
<a id="6692" class="Comment">-- y : [‚Ñù‚Å∫]</a>
<a id="6704" class="Comment">-- y = (rn + ≥ 1 ≥) ,, +-‚â§-&lt;-implies-&lt; ≥ rn 1 ≥ rp 0&lt;1</a>
   <a id="6758" href="Number.html#6758" class="Bound">y</a> <a id="6760" class="Symbol">=</a>  <a id="6763" href="Number.html#5734" class="Bound">r</a> <a id="6765" href="Number.Operations.html#3098" class="Function Operator">+</a> <a id="6767" href="Number.html#5018" class="Function">[1 ≥]</a>

<a id="6773" class="Comment">-- _+_ automatically coerces n from ‚Ñï‚Å∫ to ‚Ñù‚Å∫</a>
<a id="6818" class="Comment">-- and uses the fact that &quot;positive + nonnegative = positive&quot;</a>
<a id="6880" class="Comment">-- n+r : [‚Ñù‚Å∫]</a>
<a id="6894" class="Comment">-- n+r = (‚Ñï‚Ü™‚Ñù nn + ≥ rn) ,, +-&lt;-‚â§-implies-&lt; ≥ (‚Ñï‚Ü™‚Ñù nn) rn (coerce-‚Ñï‚Ü™‚Ñù (nn ,, np)) rp</a>
   <a id="6980" href="Number.html#6980" class="Bound">n+r</a> <a id="6984" class="Symbol">=</a> <a id="6986" href="Number.html#5721" class="Bound">n</a> <a id="6988" href="Number.Operations.html#3098" class="Function Operator">+</a> <a id="6990" href="Number.html#5734" class="Bound">r</a>

<a id="6993" class="Comment">-- generic relations like _&lt;_ also make use of their underlying relations</a>
<a id="7067" class="Comment">-- and therefore we also get definitional equality, no matter how the relation is stated</a>
   <a id="7159" href="Number.html#7159" class="Bound">pp</a>   <a id="7164" class="Symbol">:</a> <a id="7166" href="Number.html#5018" class="Function">[1 ≥]</a> <a id="7171" href="Number.Operations.html#3781" class="Function Operator">&lt;</a>      <a id="7178" class="Symbol">(</a><a id="7179" href="Number.html#5734" class="Bound">r</a>  <a id="7182" href="Number.Operations.html#3098" class="Function Operator">+</a> <a id="7184" href="Number.html#5018" class="Function">[1 ≥]</a><a id="7188" class="Symbol">)</a>
   <a id="7193" href="Number.html#7159" class="Bound">pp</a>   <a id="7198" class="Symbol">=</a> <a id="7200" class="Symbol">{!!}</a>
   <a id="7208" href="Number.html#7208" class="Bound">pp&#39;</a>  <a id="7213" class="Symbol">:</a>  <a id="7216" href="Number.Postulates.html#6900" class="Function">1 ≥</a>  <a id="7220" href="Number.Postulates.html#6794" class="Function Operator">&lt; ≥</a> <a id="7223" href="Number.Base.html#7862" class="Function">num</a> <a id="7227" class="Symbol">(</a><a id="7228" href="Number.html#5734" class="Bound">r</a>  <a id="7231" href="Number.Operations.html#3098" class="Function Operator">+</a> <a id="7233" href="Number.html#5018" class="Function">[1 ≥]</a><a id="7237" class="Symbol">)</a>
   <a id="7242" href="Number.html#7208" class="Bound">pp&#39;</a>  <a id="7247" class="Symbol">=</a> <a id="7249" class="Symbol">{!!}</a>
   <a id="7257" href="Number.html#7257" class="Bound">pp&#39;&#39;</a> <a id="7262" class="Symbol">:</a>  <a id="7265" href="Number.Postulates.html#6900" class="Function">1 ≥</a>  <a id="7269" href="Number.Postulates.html#6794" class="Function Operator">&lt; ≥</a>     <a id="7276" class="Symbol">(</a><a id="7277" href="Number.html#5737" class="Bound">rn</a> <a id="7280" href="Number.Postulates.html#6916" class="Function Operator">+ ≥</a> <a id="7283" href="Number.Postulates.html#6900" class="Function">1 ≥</a> <a id="7286" class="Symbol">)</a>
   <a id="7291" href="Number.html#7257" class="Bound">pp&#39;&#39;</a> <a id="7296" class="Symbol">=</a> <a id="7298" class="Symbol">{!!}</a>
   <a id="7306" href="Number.html#7306" class="Bound">_</a> <a id="7308" class="Symbol">:</a> <a id="7310" class="Symbol">(</a><a id="7311" href="Number.html#7159" class="Bound">pp</a> <a id="7314" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="7316" href="Number.html#7208" class="Bound">pp&#39;</a><a id="7319" class="Symbol">)</a> <a id="7321" href="Number.html#601" class="Function Operator">√ó</a> <a id="7323" class="Symbol">(</a><a id="7324" href="Number.html#7159" class="Bound">pp</a> <a id="7327" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">‚â°</a> <a id="7329" href="Number.html#7257" class="Bound">pp&#39;&#39;</a><a id="7333" class="Symbol">)</a>
   <a id="7338" class="Symbol">_</a> <a id="7340" class="Symbol">=</a> <a id="7342" href="Cubical.Foundations.Id.html#588" class="Function">refl</a> <a id="7347" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7349" href="Cubical.Foundations.Id.html#588" class="Function">refl</a>
   <a id="7357" class="Keyword">in</a> <a id="7360" class="Symbol">{! - [1 ≥]!}</a>


<a id="7374" href="Number.html#7374" class="UnsolvedMeta Function">_</a> <a id="7376" class="Symbol">=</a> <a id="7378" class="Symbol">{! ‚Ñï!}</a>

<a id="7386" class="Comment">{-

distance : ‚àÄ(x y : [‚Ñù]) ‚Üí [‚Ñù]
distance x y = max (x + (- y)) (- (x + (- y)))

IsCauchy : (x : ‚Ñï ‚Üí ‚Ñù) ‚Üí Type (‚Ñì-max ‚Ñì&#39; ‚Ñö‚Ñì)
IsCauchy x = ‚àÄ(Œµ : [‚Ñö‚Å∫]) ‚Üí ‚àÉ[ N ‚àà ‚Ñï ] ‚àÄ(m n : ‚Ñï) ‚Üí N ‚â§‚Åø m ‚Üí N ‚â§‚Åø n ‚Üí distance (x m) (x n) &lt; Œµ

-}</a>
</pre></body></html>